"use strict";(self.webpackChunkecommerce_frontend=self.webpackChunkecommerce_frontend||[]).push([[54],{8054:(e,s,r)=>{r.r(s),r.d(s,{default:()=>a});var d=r(5043),i=r(5475),n=r(5016),l=r(579);const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL,c=e=>{let{isOpen:s,onClose:r,children:d}=e;return s?(0,l.jsx)("div",{className:"modal-overlay",onClick:r,children:(0,l.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("button",{className:"modal-close",onClick:r,children:"Ã—"}),d]})}):null},a=()=>{var e;const[s,r]=(0,d.useState)([]),[a,o]=(0,d.useState)(null),[h,p]=(0,d.useState)(!1),[u,x]=(0,d.useState)(!0),{makeAuthenticatedRequest:j}=(0,n.A)(),m=(0,d.useCallback)((async()=>{try{x(!0);const e=await j("".concat(t,"/orders"));r(Array.isArray(e)?e:[])}catch(e){r([])}finally{x(!1)}}),[j]);(0,d.useEffect)((()=>{m()}),[m]);const v=e=>new Date(e).toLocaleString();return u?(0,l.jsx)("div",{className:"orders",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("h1",{children:"My Orders"}),(0,l.jsx)("p",{children:"Loading orders..."})]})}):(0,l.jsx)("div",{className:"orders",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("h1",{children:"My Orders"}),0===s.length?(0,l.jsxs)("div",{className:"no-orders",children:[(0,l.jsx)("p",{children:"You haven't placed any orders yet."}),(0,l.jsx)(i.N_,{to:"/products",className:"btn btn-primary",children:"Start Shopping"})]}):(0,l.jsx)("div",{className:"orders-list",children:s.map((e=>{var s,r;return(0,l.jsx)("div",{className:"order-management-card",children:(0,l.jsxs)("div",{className:"order-header",children:[(0,l.jsxs)("div",{className:"order-basic-info",children:[(0,l.jsxs)("h3",{children:["Order #",e.order_number||e._id.slice(-8)]}),(0,l.jsxs)("p",{children:["Total: $",e.total_amount.toFixed(2)]}),(0,l.jsxs)("p",{children:["Date: ",v(e.created_at)]}),(0,l.jsxs)("p",{children:["Items: ",(null===(s=e.items)||void 0===s?void 0:s.length)||0]})]}),(0,l.jsxs)("div",{className:"order-status-section",children:[(0,l.jsx)("span",{className:"current-status",style:{backgroundColor:(r=e.status,{pending:"#ffc107",accepted:"#17a2b8",processing:"#007bff",shipped:"#28a745",delivered:"#6c757d",cancelled:"#dc3545"}[r]||"#6c757d")},children:e.status.toUpperCase()}),(0,l.jsx)("button",{className:"details-toggle",onClick:()=>(e=>{o(e),p(!0)})(e),children:"View Details"})]})]})},e._id)}))}),(0,l.jsx)(c,{isOpen:h,onClose:()=>{p(!1),o(null)},children:a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h2",{children:["Order #",a.order_number||a._id.slice(-8)]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{children:"Order Information"}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Order ID:"})," ",a._id]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Date:"})," ",v(a.created_at)]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Status:"})," ",a.status]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Total Amount:"})," $",a.total_amount.toFixed(2)]})]}),a.shipping_address&&(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{children:"Shipping Address"}),(0,l.jsxs)("p",{children:[a.shipping_address.street,(0,l.jsx)("br",{}),a.shipping_address.city,", ",a.shipping_address.state," ",a.shipping_address.zipCode,(0,l.jsx)("br",{}),a.shipping_address.country]})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{children:"Items"}),(null===(e=a.items)||void 0===e?void 0:e.map(((e,s)=>{var r,d,i,n,t,c,a;return(0,l.jsxs)("div",{className:"order-item-detail",children:[(0,l.jsx)("img",{src:null===(r=e.product)||void 0===r?void 0:r.image_url,alt:null===(d=e.product)||void 0===d?void 0:d.name,className:"item-image"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:(0,l.jsx)("strong",{children:null===(i=e.product)||void 0===i?void 0:i.name})}),(0,l.jsxs)("p",{children:["Quantity: ",e.quantity]}),(0,l.jsxs)("p",{children:["Price: $",null===(n=e.product)||void 0===n||null===(t=n.price)||void 0===t?void 0:t.toFixed(2)," each"]}),(0,l.jsxs)("p",{children:["Subtotal: $",null===(c=(null===(a=e.product)||void 0===a?void 0:a.price)*e.quantity)||void 0===c?void 0:c.toFixed(2)]})]})]},s)})))||(0,l.jsx)("p",{children:"No items found"})]})]})})]})})}}}]);
//# sourceMappingURL=54.2300e056.chunk.js.map