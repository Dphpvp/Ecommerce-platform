"use strict";(self.webpackChunkecommerce_frontend=self.webpackChunkecommerce_frontend||[]).push([[236],{1236:(e,i,n)=>{n.r(i),n.d(i,{default:()=>l});var r=n(5043),t=n(5475),a=n(3216),s=n(8045),o=n(579);const c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL,l=()=>{const[e]=(0,t.ok)(),[i,n]=(0,r.useState)("verifying"),[l,d]=(0,r.useState)(""),h=(0,a.Zp)(),{showToast:u}=(0,s.Y6)();(0,r.useEffect)((()=>{const i=e.get("token");i?m(i):n("no-token")}),[e]);const m=async e=>{try{const i=await fetch("".concat(c,"/auth/verify-email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}),r=await i.json();i.ok?(n("success"),u("Email verified successfully!","success"),setTimeout((()=>h("/login")),3e3)):(n("error"),u(r.detail||"Verification failed","error"))}catch(i){n("error"),u("Verification failed","error")}},f=async e=>{if(e.preventDefault(),l)try{const e=await fetch("".concat(c,"/auth/resend-verification"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l})}),i=await e.json();e.ok?(u("Verification email sent!","success"),d("")):u(i.detail||"Failed to send email","error")}catch(i){u("Failed to send email","error")}else u("Please enter your email address","error")};return(0,o.jsx)("div",{className:"auth-page",children:(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:"auth-form",children:["verifying"===i&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{children:"ðŸ” Verifying Email..."}),(0,o.jsx)("p",{children:"Please wait while we verify your email address."})]}),"success"===i&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{children:"âœ… Email Verified!"}),(0,o.jsx)("p",{children:"Your email has been successfully verified. You can now log in to your account."}),(0,o.jsx)("p",{children:"Redirecting to login page..."})]}),"error"===i&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{children:"âŒ Verification Failed"}),(0,o.jsx)("p",{children:"The verification link is invalid or has expired."}),(0,o.jsxs)("form",{onSubmit:f,children:[(0,o.jsx)("input",{type:"email",placeholder:"Enter your email to resend verification",value:l,onChange:e=>d(e.target.value),required:!0}),(0,o.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Resend Verification Email"})]})]}),"no-token"===i&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{children:"âŒ Invalid Link"}),(0,o.jsx)("p",{children:"No verification token found in the URL."}),(0,o.jsxs)("form",{onSubmit:f,children:[(0,o.jsx)("input",{type:"email",placeholder:"Enter your email to resend verification",value:l,onChange:e=>d(e.target.value),required:!0}),(0,o.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Send Verification Email"})]})]})]})})})}}}]);
//# sourceMappingURL=236.6a8e7a4b.chunk.js.map