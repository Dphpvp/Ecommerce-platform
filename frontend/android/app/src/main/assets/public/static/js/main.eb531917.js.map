{"version":3,"file":"static/js/main.eb531917.js","mappings":"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","sources":["../webpack/runtime/chunk loaded","../webpack/runtime/create fake namespace object","../webpack/runtime/load script","contexts/CartContext.js","hooks/useParallax.js","utils/csrf.js","contexts/AuthContext.js","utils/serviceWorker.js","utils/queryClient.js","components/LuxuryNavigation/LuxuryNavigation.js","components/Footer/Footer.js","components/PrivateRoute.js","components/ErrorBoundary.js","components/BackToTop.js","components/LoadingSpinner.jsx","components/SuspenseBoundary.jsx","App.js","reportWebVitals.js","index.js","components/Parallax/ParallaxContainer.js","components/Parallax/ParallaxSection.js","components/Parallax/ParallaxElement.js","components/Parallax/ParallaxText.js","utils/platformDetection.js","components/toast/Toast.js","components/toast/ToastContext.js","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/css loading","../webpack/runtime/jsonp chunk loading","../webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"ecommerce-frontend:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","import React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\r\nimport { useAuth } from './AuthContext';\r\n\r\nconst API_BASE = process.env.REACT_APP_API_BASE_URL;\r\n\r\nconst CartContext = createContext();\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const { user, makeAuthenticatedRequest } = useAuth(); // FIXED: Use user and makeAuthenticatedRequest\r\n\r\n  const fetchCart = useCallback(async () => {\r\n    if (!user) {\r\n      setCartItems([]);\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    try {\r\n      // FIXED: Use makeAuthenticatedRequest instead of manual fetch\r\n      const data = await makeAuthenticatedRequest(`${API_BASE}/cart`);\r\n      setCartItems(Array.isArray(data) ? data : []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch cart:', error);\r\n      if (error.message === 'Authentication required') {\r\n        setCartItems([]);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user, makeAuthenticatedRequest]);\r\n\r\n  const addToCart = async (productId, quantity = 1) => {\r\n    if (!user) {\r\n      console.warn('User not authenticated');\r\n      return false;\r\n    }\r\n\r\n    if (!productId || quantity < 1) {\r\n      console.error('Invalid product ID or quantity');\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      // FIXED: Use makeAuthenticatedRequest\r\n      await makeAuthenticatedRequest(`${API_BASE}/cart/add`, {\r\n        method: 'POST',\r\n        body: JSON.stringify({ \r\n          product_id: productId, \r\n          quantity: parseInt(quantity) \r\n        })\r\n      });\r\n\r\n      await fetchCart(); // Refresh cart after adding\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Failed to add to cart:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const removeFromCart = async (itemId) => {\r\n    if (!user || !itemId) {\r\n      console.warn('User not authenticated or invalid item ID');\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      // FIXED: Use makeAuthenticatedRequest\r\n      await makeAuthenticatedRequest(`${API_BASE}/cart/${itemId}`, {\r\n        method: 'DELETE'\r\n      });\r\n\r\n      await fetchCart(); // Refresh cart after removing\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Failed to remove from cart:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const updateCartItemQuantity = async (itemId, newQuantity) => {\r\n    if (!user || !itemId || newQuantity < 1) {\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      // FIXED: Use makeAuthenticatedRequest\r\n      await makeAuthenticatedRequest(`${API_BASE}/cart/${itemId}`, {\r\n        method: 'PUT',\r\n        body: JSON.stringify({ quantity: parseInt(newQuantity) })\r\n      });\r\n\r\n      await fetchCart();\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Failed to update cart item:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const clearCart = useCallback(() => {\r\n    setCartItems([]);\r\n  }, []);\r\n\r\n  const getCartTotal = useCallback(() => {\r\n    return cartItems.reduce((total, item) => {\r\n      const price = item.product?.price || 0;\r\n      const quantity = item.quantity || 0;\r\n      return total + (price * quantity);\r\n    }, 0);\r\n  }, [cartItems]);\r\n\r\n  const getCartItemsCount = useCallback(() => {\r\n    return cartItems.reduce((total, item) => total + (item.quantity || 0), 0);\r\n  }, [cartItems]);\r\n\r\n  // Fetch cart when user changes\r\n  useEffect(() => {\r\n    fetchCart();\r\n  }, [fetchCart]);\r\n\r\n  // Clear cart when user logs out\r\n  useEffect(() => {\r\n    if (!user) {\r\n      setCartItems([]);\r\n    }\r\n  }, [user]);\r\n\r\n  const contextValue = {\r\n    cartItems,\r\n    loading,\r\n    addToCart,\r\n    removeFromCart,\r\n    updateCartItemQuantity,\r\n    clearCart,\r\n    fetchCart,\r\n    getCartTotal,\r\n    getCartItemsCount,\r\n    isAuthenticated: !!user\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={contextValue}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useCart = () => {\r\n  const context = useContext(CartContext);\r\n  if (!context) {\r\n    throw new Error('useCart must be used within a CartProvider');\r\n  }\r\n  return context;\r\n};","// frontend/src/hooks/useParallax.js - Enhanced Version\r\nimport { useEffect, useRef, useState, useCallback } from 'react';\r\n\r\n// Performance-optimized throttle function\r\nconst throttle = (func, limit) => {\r\n  let inThrottle;\r\n  return function() {\r\n    const args = arguments;\r\n    const context = this;\r\n    if (!inThrottle) {\r\n      func.apply(context, args);\r\n      inThrottle = true;\r\n      setTimeout(() => inThrottle = false, limit);\r\n    }\r\n  }\r\n};\r\n\r\n// RequestAnimationFrame-based throttle for smooth animations\r\nconst rafThrottle = (func) => {\r\n  let rafId = null;\r\n  return (...args) => {\r\n    if (rafId === null) {\r\n      rafId = requestAnimationFrame(() => {\r\n        func(...args);\r\n        rafId = null;\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const useParallax = (speed = -0.5, disabled = false) => {\r\n  const elementRef = useRef(null);\r\n  const [offset, setOffset] = useState(0);\r\n  const [isInViewport, setIsInViewport] = useState(false);\r\n  const animationFrameRef = useRef(null);\r\n\r\n  // Memoized calculation function\r\n  const calculateOffset = useCallback((scrollY, elementTop, elementHeight, windowHeight) => {\r\n    // Only calculate if element is near viewport\r\n    const elementBottom = elementTop + elementHeight;\r\n    const viewportTop = scrollY - windowHeight * 0.5; // Extended viewport\r\n    const viewportBottom = scrollY + windowHeight * 1.5;\r\n    \r\n    // Check if element is in extended viewport\r\n    const inExtendedViewport = elementBottom >= viewportTop && elementTop <= viewportBottom;\r\n    \r\n    if (!inExtendedViewport) {\r\n      return { offset: 0, inViewport: false };\r\n    }\r\n    \r\n    // Calculate parallax offset\r\n    const elementCenter = elementTop + elementHeight / 2;\r\n    const viewportCenter = scrollY + windowHeight / 2;\r\n    const distanceFromCenter = elementCenter - viewportCenter;\r\n    const parallaxOffset = distanceFromCenter * speed;\r\n    \r\n    // Check if actually in viewport (not extended)\r\n    const actuallyInViewport = elementBottom >= scrollY && elementTop <= scrollY + windowHeight;\r\n    \r\n    return { \r\n      offset: Math.round(parallaxOffset * 100) / 100, // Round for performance\r\n      inViewport: actuallyInViewport \r\n    };\r\n  }, [speed]);\r\n\r\n  // Optimized update function with RAF throttling\r\n  const updateTransform = useCallback(rafThrottle(() => {\r\n    const element = elementRef.current;\r\n    if (!element || disabled) return;\r\n\r\n    const rect = element.getBoundingClientRect();\r\n    const scrollY = window.pageYOffset;\r\n    const elementTop = rect.top + scrollY;\r\n    const elementHeight = rect.height;\r\n    const windowHeight = window.innerHeight;\r\n\r\n    const { offset: newOffset, inViewport } = calculateOffset(\r\n      scrollY, \r\n      elementTop, \r\n      elementHeight, \r\n      windowHeight\r\n    );\r\n\r\n    setOffset(newOffset);\r\n    setIsInViewport(inViewport);\r\n  }), [disabled, calculateOffset]);\r\n\r\n  useEffect(() => {\r\n    if (disabled) {\r\n      setOffset(0);\r\n      setIsInViewport(false);\r\n      return;\r\n    }\r\n\r\n    // Check for reduced motion preference\r\n    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;\r\n    if (prefersReducedMotion) {\r\n      setOffset(0);\r\n      setIsInViewport(false);\r\n      return;\r\n    }\r\n\r\n    // Check if device is mobile\r\n    const isMobile = window.innerWidth < 768;\r\n    if (isMobile) {\r\n      setOffset(0);\r\n      setIsInViewport(false);\r\n      return;\r\n    }\r\n\r\n    // Initial calculation\r\n    updateTransform();\r\n\r\n    // Optimized scroll listener with passive option\r\n    const handleScroll = updateTransform;\r\n    window.addEventListener('scroll', handleScroll, { passive: true });\r\n\r\n    // Throttled resize listener\r\n    const handleResize = throttle(() => {\r\n      // Re-check mobile status\r\n      const nowMobile = window.innerWidth < 768;\r\n      if (nowMobile) {\r\n        setOffset(0);\r\n        setIsInViewport(false);\r\n        return;\r\n      }\r\n      updateTransform();\r\n    }, 100);\r\n    \r\n    window.addEventListener('resize', handleResize, { passive: true });\r\n\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n      window.removeEventListener('resize', handleResize);\r\n      \r\n      // Cancel any pending animation frame\r\n      if (animationFrameRef.current) {\r\n        cancelAnimationFrame(animationFrameRef.current);\r\n      }\r\n    };\r\n  }, [disabled, updateTransform]);\r\n\r\n  return { elementRef, offset, isInViewport };\r\n};\r\n\r\nexport const useIntersectionObserver = (options = {}) => {\r\n  const [isIntersecting, setIsIntersecting] = useState(false);\r\n  const [entry, setEntry] = useState(null);\r\n  const elementRef = useRef(null);\r\n  const observerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const element = elementRef.current;\r\n    if (!element) return;\r\n\r\n    // Create observer with default options optimized for performance\r\n    const defaultOptions = {\r\n      threshold: [0, 0.1, 0.5, 1], // Multiple thresholds for better control\r\n      rootMargin: '50px 0px', // Extended detection area\r\n      ...options,\r\n    };\r\n\r\n    observerRef.current = new IntersectionObserver(\r\n      (entries) => {\r\n        const [observerEntry] = entries;\r\n        setIsIntersecting(observerEntry.isIntersecting);\r\n        setEntry(observerEntry);\r\n      },\r\n      defaultOptions\r\n    );\r\n\r\n    observerRef.current.observe(element);\r\n\r\n    return () => {\r\n      if (observerRef.current) {\r\n        observerRef.current.disconnect();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return { elementRef, isIntersecting, entry };\r\n};\r\n\r\n// Hook for parallax performance monitoring\r\nexport const useParallaxPerformance = () => {\r\n  const [performanceLevel, setPerformanceLevel] = useState('high');\r\n  const frameCount = useRef(0);\r\n  const lastTime = useRef(performance.now());\r\n\r\n  useEffect(() => {\r\n    let animationFrame;\r\n    \r\n    const measurePerformance = () => {\r\n      frameCount.current++;\r\n      const currentTime = performance.now();\r\n      \r\n      // Check FPS every second\r\n      if (currentTime - lastTime.current >= 1000) {\r\n        const fps = frameCount.current;\r\n        frameCount.current = 0;\r\n        lastTime.current = currentTime;\r\n        \r\n        // Adjust performance level based on FPS\r\n        if (fps < 30) {\r\n          setPerformanceLevel('low');\r\n        } else if (fps < 50) {\r\n          setPerformanceLevel('medium');\r\n        } else {\r\n          setPerformanceLevel('high');\r\n        }\r\n      }\r\n      \r\n      animationFrame = requestAnimationFrame(measurePerformance);\r\n    };\r\n\r\n    // Start monitoring after a delay to let initial rendering settle\r\n    const timeout = setTimeout(() => {\r\n      animationFrame = requestAnimationFrame(measurePerformance);\r\n    }, 2000);\r\n\r\n    return () => {\r\n      clearTimeout(timeout);\r\n      if (animationFrame) {\r\n        cancelAnimationFrame(animationFrame);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return performanceLevel;\r\n};\r\n\r\n// Utility hook for scroll-triggered animations\r\nexport const useScrollAnimation = (threshold = 0.1) => {\r\n  const { elementRef, isIntersecting } = useIntersectionObserver({\r\n    threshold,\r\n    rootMargin: '50px 0px'\r\n  });\r\n  \r\n  const [hasAnimated, setHasAnimated] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isIntersecting && !hasAnimated) {\r\n      setHasAnimated(true);\r\n    }\r\n  }, [isIntersecting, hasAnimated]);\r\n\r\n  return { elementRef, isVisible: isIntersecting, hasAnimated };\r\n};","// frontend/src/utils/csrf.js - Updated for new auth.py\r\nimport platformDetection from './platformDetection.js';\r\n\r\nconst API_BASE = process.env.REACT_APP_API_BASE_URL;\r\n\r\nclass CSRFManager {\r\n  constructor() {\r\n    this.token = null;\r\n    this.tokenExpiry = null;\r\n  }\r\n\r\n  async getToken() {\r\n    // Check if current token is still valid\r\n    if (this.token && this.tokenExpiry && Date.now() < this.tokenExpiry) {\r\n      return this.token;\r\n    }\r\n\r\n    try {\r\n      // UPDATED: Use correct API path matching auth.py\r\n      const response = await fetch(`${API_BASE}/csrf-token`, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          ...platformDetection.getPlatformHeaders()\r\n        }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        this.token = data.csrf_token;\r\n        this.tokenExpiry = Date.now() + (50 * 60 * 1000); // 50 minutes\r\n        return this.token;\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to get CSRF token:', error);\r\n    }\r\n    \r\n    return null;\r\n  }\r\n\r\n  async makeSecureRequest(url, options = {}) {\r\n    const token = await this.getToken();\r\n    \r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n      ...options.headers,\r\n    };\r\n\r\n    if (token) {\r\n      headers['X-CSRF-Token'] = token;\r\n    }\r\n\r\n    // Add request signing for state-changing operations\r\n    if (['POST', 'PUT', 'DELETE', 'PATCH'].includes(options.method?.toUpperCase())) {\r\n      const timestamp = Math.floor(Date.now() / 1000);\r\n      const signature = await requestSigner.signRequest(\r\n        options.method || 'POST',\r\n        new URL(url).pathname,\r\n        options.body || '',\r\n        timestamp\r\n      );\r\n      \r\n      headers['X-Request-Signature'] = signature;\r\n      headers['X-Request-Timestamp'] = timestamp.toString();\r\n    }\r\n\r\n    return fetch(url, {\r\n      ...options,\r\n      headers,\r\n      credentials: 'include', // Always include cookies for session\r\n    });\r\n  }\r\n\r\n  clearToken() {\r\n    this.token = null;\r\n    this.tokenExpiry = null;\r\n  }\r\n}\r\n\r\n// Request signing implementation\r\nclass RequestSigner {\r\n  constructor() {\r\n    // In production, this would be derived from a secure key exchange\r\n    // For now, using a placeholder that matches backend\r\n    this.secret = process.env.REACT_APP_SESSION_SECRET || 'default-secret';\r\n  }\r\n\r\n  async signRequest(method, path, body, timestamp) {\r\n    const message = `${method}|${path}|${body}|${timestamp}`;\r\n    \r\n    // Use Web Crypto API for HMAC-SHA256\r\n    const encoder = new TextEncoder();\r\n    const key = await crypto.subtle.importKey(\r\n      'raw',\r\n      encoder.encode(this.secret),\r\n      { name: 'HMAC', hash: 'SHA-256' },\r\n      false,\r\n      ['sign']\r\n    );\r\n    \r\n    const signature = await crypto.subtle.sign(\r\n      'HMAC',\r\n      key,\r\n      encoder.encode(message)\r\n    );\r\n    \r\n    // Convert to hex string\r\n    return Array.from(new Uint8Array(signature))\r\n      .map(b => b.toString(16).padStart(2, '0'))\r\n      .join('');\r\n  }\r\n\r\n  verifyTimestamp(timestamp) {\r\n    const currentTime = Math.floor(Date.now() / 1000);\r\n    const timeDiff = Math.abs(currentTime - timestamp);\r\n    // Allow 5 minutes time difference\r\n    return timeDiff <= 300;\r\n  }\r\n}\r\n\r\n// Create singleton instances\r\nexport const csrfManager = new CSRFManager();\r\nexport const requestSigner = new RequestSigner();\r\n\r\n// Updated secure fetch wrapper\r\nexport const secureFetch = async (url, options = {}) => {\r\n  const defaultOptions = {\r\n    credentials: 'include', // Always include cookies\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      ...platformDetection.getPlatformHeaders(),\r\n      ...options.headers,\r\n    },\r\n  };\r\n\r\n  // Get CSRF token for state-changing operations\r\n  if (['POST', 'PUT', 'DELETE', 'PATCH'].includes(options.method?.toUpperCase())) {\r\n    const token = await csrfManager.getToken();\r\n    if (token) {\r\n      defaultOptions.headers['X-CSRF-Token'] = token;\r\n    }\r\n\r\n    // Add request signing\r\n    const timestamp = Math.floor(Date.now() / 1000);\r\n    const signature = await requestSigner.signRequest(\r\n      options.method,\r\n      new URL(url).pathname,\r\n      options.body || '',\r\n      timestamp\r\n    );\r\n    \r\n    defaultOptions.headers['X-Request-Signature'] = signature;\r\n    defaultOptions.headers['X-Request-Timestamp'] = timestamp.toString();\r\n  }\r\n\r\n  return fetch(url, { ...defaultOptions, ...options });\r\n};\r\n\r\n// Input sanitization utilities\r\nexport const sanitizeInput = {\r\n  text: (input, maxLength = 1000) => {\r\n    if (!input) return '';\r\n    \r\n    // Remove null bytes and control characters\r\n    let sanitized = input.replace(/[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F]/g, '');\r\n    \r\n    // Limit length\r\n    sanitized = sanitized.substring(0, maxLength);\r\n    \r\n    // Trim whitespace\r\n    return sanitized.trim();\r\n  },\r\n\r\n  email: (email) => {\r\n    if (!email) return '';\r\n    return email.toLowerCase().trim();\r\n  },\r\n\r\n  phone: (phone) => {\r\n    if (!phone) return '';\r\n    // Remove all non-digit characters except + and common separators\r\n    return phone.replace(/[^\\d\\+\\s\\-\\(\\)]/g, '');\r\n  },\r\n\r\n  html: (input) => {\r\n    if (!input) return '';\r\n    \r\n    // Basic HTML escaping\r\n    return input\r\n      .replace(/&/g, '&amp;')\r\n      .replace(/</g, '&lt;')\r\n      .replace(/>/g, '&gt;')\r\n      .replace(/\"/g, '&quot;')\r\n      .replace(/'/g, '&#x27;')\r\n      .replace(/\\//g, '&#x2F;');\r\n  },\r\n\r\n  url: (url) => {\r\n    if (!url) return '';\r\n    \r\n    try {\r\n      const parsed = new URL(url);\r\n      // Only allow http and https\r\n      if (!['http:', 'https:'].includes(parsed.protocol)) {\r\n        throw new Error('Invalid protocol');\r\n      }\r\n      return parsed.toString();\r\n    } catch {\r\n      return '';\r\n    }\r\n  }\r\n};\r\n\r\n// Client-side validation\r\nexport const validateInput = {\r\n  email: (email) => {\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return emailRegex.test(email);\r\n  },\r\n\r\n  phone: (phone) => {\r\n    if (!phone) return true; // Optional field\r\n    const phoneRegex = /^[\\+]?[\\d\\s\\-\\(\\)]{7,20}$/;\r\n    return phoneRegex.test(phone);\r\n  },\r\n\r\n  password: (password) => {\r\n    if (password.length < 6) return { valid: false, message: 'Password must be at least 6 characters' };\r\n    if (password.length > 128) return { valid: false, message: 'Password too long' };\r\n    \r\n    const weakPasswords = ['password', '123456', 'qwerty', 'admin', 'letmein'];\r\n    if (weakPasswords.includes(password.toLowerCase())) {\r\n      return { valid: false, message: 'Password is too weak' };\r\n    }\r\n    \r\n    return { valid: true };\r\n  },\r\n\r\n  username: (username) => {\r\n    if (!username) return { valid: false, message: 'Username is required' };\r\n    if (username.length < 3 || username.length > 50) {\r\n      return { valid: false, message: 'Username must be 3-50 characters' };\r\n    }\r\n    if (!/^[a-zA-Z0-9_-]+$/.test(username)) {\r\n      return { valid: false, message: 'Username can only contain letters, numbers, underscore, and hyphen' };\r\n    }\r\n    return { valid: true };\r\n  },\r\n\r\n  url: (url) => {\r\n    if (!url) return { valid: false, message: 'URL is required' };\r\n    \r\n    try {\r\n      const parsed = new URL(url);\r\n      if (!['http:', 'https:'].includes(parsed.protocol)) {\r\n        return { valid: false, message: 'URL must use http or https' };\r\n      }\r\n      return { valid: true };\r\n    } catch {\r\n      return { valid: false, message: 'Invalid URL format' };\r\n    }\r\n  },\r\n\r\n  number: (value, min = 0, max = Infinity) => {\r\n    const num = parseFloat(value);\r\n    if (isNaN(num)) return { valid: false, message: 'Must be a valid number' };\r\n    if (num < min) return { valid: false, message: `Must be at least ${min}` };\r\n    if (num > max) return { valid: false, message: `Must be at most ${max}` };\r\n    return { valid: true };\r\n  }\r\n};","import React, { createContext, useContext, useState, useEffect, useCallback, useRef } from 'react';\r\nimport { secureFetch } from '../utils/csrf';\r\nimport platformDetection from '../utils/platformDetection';\r\n\r\nconst API_BASE = process.env.REACT_APP_API_BASE_URL;\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [requires2FA, setRequires2FA] = useState(false);\r\n  const [tempToken, setTempToken] = useState(null);\r\n  const [initialized, setInitialized] = useState(false);\r\n  \r\n  // Auto-logout state\r\n  const timeoutRef = useRef(null);\r\n  const TIMEOUT_DURATION = 60 * 60 * 1000; // 1 hour\r\n\r\n  const logout = useCallback(async () => {\r\n    try {\r\n      await secureFetch(`${API_BASE}/auth/logout`, {\r\n        method: 'GET'\r\n      });\r\n      \r\n      // Show platform-appropriate logout message\r\n      await platformDetection.showToast('Logged out successfully', 2000);\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n    } finally {\r\n      setUser(null);\r\n      setRequires2FA(false);\r\n      setTempToken(null);\r\n      \r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n        timeoutRef.current = null;\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const resetTimeout = useCallback(() => {\r\n    if (!user) return;\r\n    \r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n    }\r\n    \r\n    timeoutRef.current = setTimeout(() => {\r\n      console.log('Auto-logout due to inactivity');\r\n      logout();\r\n    }, TIMEOUT_DURATION);\r\n  }, [user, logout, TIMEOUT_DURATION]);\r\n\r\n  const handleActivity = useCallback(() => {\r\n    resetTimeout();\r\n  }, [resetTimeout]);\r\n\r\n  useEffect(() => {\r\n    if (!user) return;\r\n\r\n    const events = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart', 'click'];\r\n    \r\n    events.forEach(event => {\r\n      document.addEventListener(event, handleActivity, true);\r\n    });\r\n\r\n    resetTimeout();\r\n\r\n    return () => {\r\n      events.forEach(event => {\r\n        document.removeEventListener(event, handleActivity, true);\r\n      });\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n    };\r\n  }, [user, handleActivity, resetTimeout]);\r\n\r\n  // FIXED: Better session fetching with proper state management\r\n  const fetchUser = useCallback(async () => {\r\n    try {\r\n      console.log('🔍 Fetching user session...');\r\n      \r\n      const response = await fetch(`${API_BASE}/auth/me`, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        cache: 'no-cache'\r\n      });\r\n      \r\n      console.log('📡 Auth response status:', response.status);\r\n      \r\n      if (response.ok) {\r\n        const userData = await response.json();\r\n        console.log('✅ User session found:', userData.username);\r\n        setUser(userData);\r\n        return userData;\r\n      } else if (response.status === 401) {\r\n        console.log('❌ No valid session (401)');\r\n        setUser(null);\r\n        return null;\r\n      } else {\r\n        console.error('⚠️ Unexpected auth response:', response.status);\r\n        // Don't change user state on unexpected errors\r\n        return user;\r\n      }\r\n    } catch (error) {\r\n      console.error('💥 Auth fetch error:', error);\r\n      // Don't change user state on network errors\r\n      return user;\r\n    } finally {\r\n      if (!initialized) {\r\n        setLoading(false);\r\n        setInitialized(true);\r\n      }\r\n    }\r\n  }, [user, initialized]);\r\n\r\n  // FIXED: Only fetch user once on initialization\r\n  useEffect(() => {\r\n    if (!initialized) {\r\n      fetchUser();\r\n    }\r\n  }, [fetchUser, initialized]);\r\n\r\n  const login = useCallback(async (userData) => {\r\n    console.log('🔐 Login called with:', userData ? 'user data' : 'no data');\r\n    \r\n    if (userData) {\r\n      setUser(userData);\r\n      setLoading(false);\r\n    } else {\r\n      // Fetch from session\r\n      const freshUser = await fetchUser();\r\n      if (!freshUser) {\r\n        console.error('❌ Login failed: No user data available');\r\n        setLoading(false);\r\n        return false;\r\n      }\r\n    }\r\n    \r\n    setRequires2FA(false);\r\n    setTempToken(null);\r\n    return true;\r\n  }, [fetchUser]);\r\n\r\n  const complete2FA = useCallback(async () => {\r\n    setRequires2FA(false);\r\n    setTempToken(null);\r\n    const userData = await fetchUser();\r\n    if (userData) {\r\n      setUser(userData);\r\n      return true;\r\n    }\r\n    return false;\r\n  }, [fetchUser]);\r\n\r\n  const handle2FARequired = (tempToken) => {\r\n    setRequires2FA(true);\r\n    setTempToken(tempToken);\r\n  };\r\n\r\n  const register = async (userData) => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(`${API_BASE}/auth/register`, {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(userData)\r\n      });\r\n\r\n      if (response.ok) {\r\n        return { success: true, message: 'Registration successful! Please check your email to verify your account.' };\r\n      } else {\r\n        const data = await response.json();\r\n        return { success: false, message: data.detail || 'Registration failed' };\r\n      }\r\n    } catch (error) {\r\n      console.error('Registration error:', error);\r\n      return { success: false, message: 'Registration failed' };\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // FIXED: Get CSRF token helper\r\n  const getCSRFToken = useCallback(async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/csrf-token`, {\r\n        credentials: 'include'\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        return data.csrf_token;\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to get CSRF token:', error);\r\n    }\r\n    return null;\r\n  }, []);\r\n\r\n  // Enhanced authenticated request using secureFetch with platform support\r\n  const makeAuthenticatedRequest = useCallback(async (url, options = {}) => {\r\n    try {\r\n      console.log(`🌐 Making authenticated request to ${url}`);\r\n      \r\n      const response = await secureFetch(url, options);\r\n      \r\n      if (response.status === 401) {\r\n        console.log('🔄 Got 401, checking session...');\r\n        \r\n        // Check if we still have a valid session\r\n        const sessionCheck = await secureFetch(`${API_BASE}/auth/me`, {\r\n          method: 'GET'\r\n        });\r\n        \r\n        if (sessionCheck.ok) {\r\n          console.log('✅ Session still valid, retrying request');\r\n          const userData = await sessionCheck.json();\r\n          setUser(userData);\r\n          \r\n          // Retry original request\r\n          const retryResponse = await secureFetch(url, options);\r\n          \r\n          if (!retryResponse.ok) {\r\n            const errorData = await retryResponse.json().catch(() => ({}));\r\n            throw new Error(errorData.detail || `HTTP error! status: ${retryResponse.status}`);\r\n          }\r\n          \r\n          return await retryResponse.json();\r\n        } else {\r\n          console.log('❌ Session invalid, logging out');\r\n          setUser(null);\r\n          await platformDetection.showToast('Session expired. Please login again.', 3000);\r\n          throw new Error('Authentication required');\r\n        }\r\n      }\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new Error(errorData.detail || `HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('🚨 Authenticated request failed:', error);\r\n      \r\n      // Enhanced mobile error handling\r\n      if (error.name === 'TypeError' && error.message.includes('fetch')) {\r\n        await platformDetection.showToast('Connection failed. Please check your internet connection.', 4000);\r\n      }\r\n      \r\n      throw error;\r\n    }\r\n  }, []);\r\n\r\n  const checkAuthStatus = useCallback(async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/auth/me`, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: { 'Accept': 'application/json' }\r\n      });\r\n      return response.ok;\r\n    } catch (error) {\r\n      console.error('Auth status check failed:', error);\r\n      return false;\r\n    }\r\n  }, []);\r\n\r\n  const isAuthenticated = !!user;\r\n\r\n  const refetchUser = useCallback(async () => {\r\n    console.log('🔄 Refetching user...');\r\n    try {\r\n      const response = await fetch(`${API_BASE}/auth/me`, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: { 'Accept': 'application/json' }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const userData = await response.json();\r\n        setUser(userData);\r\n        return userData;\r\n      } else {\r\n        console.log('❌ Refetch failed, clearing user');\r\n        setUser(null);\r\n        return null;\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to refresh user:', error);\r\n      return null;\r\n    }\r\n  }, []);\r\n\r\n  // Debug logging\r\n  useEffect(() => {\r\n    console.log('🔍 Auth State:', { \r\n      user: user?.username || 'none', \r\n      loading, \r\n      initialized, \r\n      isAuthenticated \r\n    });\r\n  }, [user, loading, initialized, isAuthenticated]);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ \r\n      user, \r\n      token: null,\r\n      getToken: () => null,\r\n      login, \r\n      register, \r\n      logout, \r\n      loading,\r\n      requires2FA,\r\n      tempToken,\r\n      handle2FARequired,\r\n      complete2FA,\r\n      refetchUser,\r\n      makeAuthenticatedRequest,\r\n      checkAuthStatus,\r\n      isAuthenticated,\r\n      initialized // Add this for components to check if auth is ready\r\n    }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};","// Service Worker Registration and Management\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  window.location.hostname === '[::1]' ||\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\nconst SW_URL = '/sw.js';\r\nconst UPDATE_CHECK_INTERVAL = 60000; // Check for updates every minute\r\n\r\nclass ServiceWorkerManager {\r\n  constructor() {\r\n    this.registration = null;\r\n    this.updateCheckInterval = null;\r\n    this.onUpdateAvailable = null;\r\n    this.onOffline = null;\r\n    this.onOnline = null;\r\n  }\r\n\r\n  // Register service worker\r\n  async register() {\r\n    if (!('serviceWorker' in navigator)) {\r\n      console.log('Service Worker not supported');\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      console.log('Registering Service Worker...');\r\n      \r\n      this.registration = await navigator.serviceWorker.register(SW_URL, {\r\n        scope: '/',\r\n      });\r\n\r\n      console.log('Service Worker registered successfully');\r\n\r\n      // Set up event listeners\r\n      this.setupEventListeners();\r\n      \r\n      // Start checking for updates\r\n      this.startUpdateChecking();\r\n\r\n      // Handle initial installation\r\n      if (this.registration.installing) {\r\n        this.handleInstalling(this.registration.installing);\r\n      }\r\n\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Service Worker registration failed:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Set up event listeners\r\n  setupEventListeners() {\r\n    if (!this.registration) return;\r\n\r\n    // Listen for updates\r\n    this.registration.addEventListener('updatefound', () => {\r\n      const newWorker = this.registration.installing;\r\n      if (newWorker) {\r\n        this.handleInstalling(newWorker);\r\n      }\r\n    });\r\n\r\n    // Listen for controller changes\r\n    navigator.serviceWorker.addEventListener('controllerchange', () => {\r\n      console.log('Service Worker controller changed - reloading page');\r\n      window.location.reload();\r\n    });\r\n\r\n    // Listen for messages from service worker\r\n    navigator.serviceWorker.addEventListener('message', (event) => {\r\n      this.handleMessage(event.data);\r\n    });\r\n\r\n    // Network status listeners\r\n    window.addEventListener('online', () => {\r\n      console.log('Network: Back online');\r\n      if (this.onOnline) this.onOnline();\r\n      this.syncOfflineData();\r\n    });\r\n\r\n    window.addEventListener('offline', () => {\r\n      console.log('Network: Gone offline');\r\n      if (this.onOffline) this.onOffline();\r\n    });\r\n  }\r\n\r\n  // Handle service worker installation\r\n  handleInstalling(worker) {\r\n    worker.addEventListener('statechange', () => {\r\n      if (worker.state === 'installed') {\r\n        if (navigator.serviceWorker.controller) {\r\n          // New update available\r\n          console.log('New service worker update available');\r\n          if (this.onUpdateAvailable) {\r\n            this.onUpdateAvailable();\r\n          }\r\n        } else {\r\n          // First installation\r\n          console.log('Service worker installed for the first time');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // Handle messages from service worker\r\n  handleMessage(data) {\r\n    const { type, payload } = data;\r\n\r\n    switch (type) {\r\n      case 'CACHE_UPDATED':\r\n        console.log('Cache updated:', payload);\r\n        break;\r\n      case 'OFFLINE_READY':\r\n        console.log('App ready for offline use');\r\n        break;\r\n      case 'UPDATE_AVAILABLE':\r\n        if (this.onUpdateAvailable) {\r\n          this.onUpdateAvailable();\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  // Start checking for updates periodically\r\n  startUpdateChecking() {\r\n    if (isLocalhost) return; // Skip in development\r\n\r\n    this.updateCheckInterval = setInterval(() => {\r\n      this.checkForUpdates();\r\n    }, UPDATE_CHECK_INTERVAL);\r\n  }\r\n\r\n  // Check for service worker updates\r\n  async checkForUpdates() {\r\n    if (!this.registration) return;\r\n\r\n    try {\r\n      await this.registration.update();\r\n    } catch (error) {\r\n      console.error('Failed to check for updates:', error);\r\n    }\r\n  }\r\n\r\n  // Update service worker (skip waiting)\r\n  updateServiceWorker() {\r\n    if (!this.registration || !this.registration.waiting) return;\r\n\r\n    this.registration.waiting.postMessage({ type: 'SKIP_WAITING' });\r\n  }\r\n\r\n  // Unregister service worker\r\n  async unregister() {\r\n    if (!this.registration) return false;\r\n\r\n    try {\r\n      const result = await this.registration.unregister();\r\n      console.log('Service Worker unregistered:', result);\r\n      \r\n      // Clear update interval\r\n      if (this.updateCheckInterval) {\r\n        clearInterval(this.updateCheckInterval);\r\n      }\r\n\r\n      return result;\r\n    } catch (error) {\r\n      console.error('Failed to unregister Service Worker:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Cache specific URLs\r\n  cacheUrls(urls) {\r\n    if (!this.registration || !this.registration.active) return;\r\n\r\n    this.registration.active.postMessage({\r\n      type: 'CACHE_URLS',\r\n      payload: { urls }\r\n    });\r\n  }\r\n\r\n  // Clear specific cache\r\n  clearCache(cacheName) {\r\n    if (!this.registration || !this.registration.active) return;\r\n\r\n    this.registration.active.postMessage({\r\n      type: 'CLEAR_CACHE',\r\n      payload: { cacheName }\r\n    });\r\n  }\r\n\r\n  // Sync offline data when back online\r\n  async syncOfflineData() {\r\n    if (!('serviceWorker' in navigator) || !navigator.serviceWorker.controller) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Trigger background sync for cart data\r\n      if ('sync' in window.ServiceWorkerRegistration.prototype) {\r\n        await this.registration.sync.register('cart-sync');\r\n        await this.registration.sync.register('order-sync');\r\n      }\r\n    } catch (error) {\r\n      console.error('Background sync failed:', error);\r\n    }\r\n  }\r\n\r\n  // Get cache storage usage\r\n  async getCacheStorageUsage() {\r\n    if ('storage' in navigator && 'estimate' in navigator.storage) {\r\n      try {\r\n        const estimate = await navigator.storage.estimate();\r\n        return {\r\n          used: estimate.usage,\r\n          available: estimate.quota,\r\n          percentage: (estimate.usage / estimate.quota) * 100\r\n        };\r\n      } catch (error) {\r\n        console.error('Failed to get storage estimate:', error);\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  // Set callback functions\r\n  setCallbacks({ onUpdateAvailable, onOffline, onOnline }) {\r\n    this.onUpdateAvailable = onUpdateAvailable;\r\n    this.onOffline = onOffline;\r\n    this.onOnline = onOnline;\r\n  }\r\n\r\n  // Check if app is running offline\r\n  isOffline() {\r\n    return !navigator.onLine;\r\n  }\r\n\r\n  // Get registration info\r\n  getRegistrationInfo() {\r\n    if (!this.registration) return null;\r\n\r\n    return {\r\n      scope: this.registration.scope,\r\n      active: !!this.registration.active,\r\n      installing: !!this.registration.installing,\r\n      waiting: !!this.registration.waiting\r\n    };\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nconst serviceWorkerManager = new ServiceWorkerManager();\r\n\r\n// Export functions for easy use\r\nexport const registerSW = () => serviceWorkerManager.register();\r\nexport const unregisterSW = () => serviceWorkerManager.unregister();\r\nexport const updateSW = () => serviceWorkerManager.updateServiceWorker();\r\nexport const cacheUrls = (urls) => serviceWorkerManager.cacheUrls(urls);\r\nexport const clearCache = (cacheName) => serviceWorkerManager.clearCache(cacheName);\r\nexport const getCacheUsage = () => serviceWorkerManager.getCacheStorageUsage();\r\nexport const setCallbacks = (callbacks) => serviceWorkerManager.setCallbacks(callbacks);\r\nexport const isOffline = () => serviceWorkerManager.isOffline();\r\nexport const getRegistrationInfo = () => serviceWorkerManager.getRegistrationInfo();\r\n\r\nexport default serviceWorkerManager;","import { QueryClient } from '@tanstack/react-query';\r\n\r\n// Enhanced error handler for React Query\r\nconst defaultQueryErrorHandler = (error) => {\r\n  console.error('Query Error:', error);\r\n  \r\n  // Handle different types of errors\r\n  if (error?.response?.status === 401) {\r\n    // Redirect to login on authentication errors\r\n    window.location.href = '/login';\r\n    return;\r\n  }\r\n  \r\n  if (error?.response?.status >= 500) {\r\n    // Show toast for server errors\r\n    console.error('Server error occurred');\r\n  }\r\n  \r\n  if (error?.message?.includes('Network Error')) {\r\n    // Handle network errors\r\n    console.error('Network error - check your connection');\r\n  }\r\n};\r\n\r\n// Enhanced mutation error handler\r\nconst defaultMutationErrorHandler = (error) => {\r\n  console.error('Mutation Error:', error);\r\n  \r\n  // Handle validation errors\r\n  if (error?.response?.status === 400) {\r\n    console.error('Validation error:', error.response.data);\r\n  }\r\n  \r\n  // Handle other errors\r\n  if (error?.response?.status >= 500) {\r\n    console.error('Server error during mutation');\r\n  }\r\n};\r\n\r\n// Create optimized QueryClient\r\nexport const queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      // Stale time - how long data is considered fresh\r\n      staleTime: 5 * 60 * 1000, // 5 minutes\r\n      \r\n      // Cache time - how long inactive data stays in cache\r\n      gcTime: 10 * 60 * 1000, // 10 minutes (was cacheTime in v4)\r\n      \r\n      // Retry configuration\r\n      retry: (failureCount, error) => {\r\n        // Don't retry on 4xx errors except 429 (rate limit)\r\n        if (error?.response?.status >= 400 && error?.response?.status < 500) {\r\n          return error?.response?.status === 429 && failureCount < 2;\r\n        }\r\n        // Retry up to 3 times for other errors\r\n        return failureCount < 3;\r\n      },\r\n      \r\n      // Retry delay with exponential backoff\r\n      retryDelay: (attemptIndex) => Math.min(1000 * 2 ** attemptIndex, 30000),\r\n      \r\n      // Refetch on window focus (disable in development)\r\n      refetchOnWindowFocus: process.env.NODE_ENV === 'production',\r\n      \r\n      // Refetch on reconnect\r\n      refetchOnReconnect: true,\r\n      \r\n      // Background refetch interval\r\n      refetchInterval: false, // Disable automatic background refetch\r\n      \r\n      // Error handler\r\n      onError: defaultQueryErrorHandler,\r\n    },\r\n    mutations: {\r\n      // Retry mutations once\r\n      retry: 1,\r\n      \r\n      // Error handler\r\n      onError: defaultMutationErrorHandler,\r\n    },\r\n  },\r\n});\r\n\r\n// Query key factories for consistent cache keys\r\nexport const queryKeys = {\r\n  // User related\r\n  user: () => ['user'],\r\n  userProfile: () => [...queryKeys.user(), 'profile'],\r\n  \r\n  // Products\r\n  products: () => ['products'],\r\n  productsList: (filters) => [...queryKeys.products(), 'list', filters],\r\n  productDetail: (id) => [...queryKeys.products(), 'detail', id],\r\n  productCategories: () => [...queryKeys.products(), 'categories'],\r\n  \r\n  // Cart\r\n  cart: () => ['cart'],\r\n  cartItems: () => [...queryKeys.cart(), 'items'],\r\n  \r\n  // Orders\r\n  orders: () => ['orders'],\r\n  ordersList: (filters) => [...queryKeys.orders(), 'list', filters],\r\n  orderDetail: (id) => [...queryKeys.orders(), 'detail', id],\r\n  \r\n  // Admin\r\n  admin: () => ['admin'],\r\n  adminUsers: (filters) => [...queryKeys.admin(), 'users', filters],\r\n  adminOrders: (filters) => [...queryKeys.admin(), 'orders', filters],\r\n  adminProducts: (filters) => [...queryKeys.admin(), 'products', filters],\r\n  adminStats: () => [...queryKeys.admin(), 'stats'],\r\n};\r\n\r\n// Mutation key factories\r\nexport const mutationKeys = {\r\n  // Auth\r\n  login: () => ['auth', 'login'],\r\n  register: () => ['auth', 'register'],\r\n  logout: () => ['auth', 'logout'],\r\n  \r\n  // Cart\r\n  addToCart: () => ['cart', 'add'],\r\n  updateCart: () => ['cart', 'update'],\r\n  removeFromCart: () => ['cart', 'remove'],\r\n  clearCart: () => ['cart', 'clear'],\r\n  \r\n  // Orders\r\n  createOrder: () => ['orders', 'create'],\r\n  updateOrder: () => ['orders', 'update'],\r\n  cancelOrder: () => ['orders', 'cancel'],\r\n  \r\n  // Products\r\n  createProduct: () => ['products', 'create'],\r\n  updateProduct: () => ['products', 'update'],\r\n  deleteProduct: () => ['products', 'delete'],\r\n};\r\n\r\n// Cache invalidation helpers\r\nexport const invalidateQueries = {\r\n  // Invalidate all user data\r\n  user: () => queryClient.invalidateQueries({ queryKey: queryKeys.user() }),\r\n  \r\n  // Invalidate products\r\n  products: () => queryClient.invalidateQueries({ queryKey: queryKeys.products() }),\r\n  \r\n  // Invalidate cart\r\n  cart: () => queryClient.invalidateQueries({ queryKey: queryKeys.cart() }),\r\n  \r\n  // Invalidate orders\r\n  orders: () => queryClient.invalidateQueries({ queryKey: queryKeys.orders() }),\r\n  \r\n  // Invalidate admin data\r\n  admin: () => queryClient.invalidateQueries({ queryKey: queryKeys.admin() }),\r\n};\r\n\r\n// Prefetch helpers\r\nexport const prefetchQueries = {\r\n  // Prefetch product categories\r\n  categories: () => queryClient.prefetchQuery({\r\n    queryKey: queryKeys.productCategories(),\r\n    queryFn: () => fetch('/api/categories').then(res => res.json()),\r\n    staleTime: 10 * 60 * 1000, // 10 minutes\r\n  }),\r\n  \r\n  // Prefetch user profile\r\n  userProfile: () => queryClient.prefetchQuery({\r\n    queryKey: queryKeys.userProfile(),\r\n    queryFn: () => fetch('/api/auth/me').then(res => res.json()),\r\n    staleTime: 5 * 60 * 1000, // 5 minutes\r\n  }),\r\n};\r\n\r\n// Optimistic update helpers\r\nexport const optimisticUpdates = {\r\n  // Optimistic cart update\r\n  updateCart: (productId, quantity) => {\r\n    queryClient.setQueryData(queryKeys.cartItems(), (oldData) => {\r\n      if (!oldData) return oldData;\r\n      \r\n      return oldData.map(item => \r\n        item.product_id === productId \r\n          ? { ...item, quantity }\r\n          : item\r\n      );\r\n    });\r\n  },\r\n  \r\n  // Optimistic cart addition\r\n  addToCart: (product, quantity) => {\r\n    queryClient.setQueryData(queryKeys.cartItems(), (oldData) => {\r\n      if (!oldData) return [{ ...product, quantity }];\r\n      \r\n      const existingItem = oldData.find(item => item.product_id === product.id);\r\n      if (existingItem) {\r\n        return oldData.map(item =>\r\n          item.product_id === product.id\r\n            ? { ...item, quantity: item.quantity + quantity }\r\n            : item\r\n        );\r\n      }\r\n      \r\n      return [...oldData, { ...product, quantity, product_id: product.id }];\r\n    });\r\n  },\r\n};\r\n\r\n// Background sync for offline support\r\nexport const backgroundSync = {\r\n  // Sync cached mutations when back online\r\n  syncOfflineMutations: async () => {\r\n    const mutationCache = queryClient.getMutationCache();\r\n    const offlineMutations = mutationCache.getAll().filter(\r\n      mutation => mutation.state.status === 'error' && mutation.state.error?.name === 'NetworkError'\r\n    );\r\n    \r\n    for (const mutation of offlineMutations) {\r\n      try {\r\n        await mutation.execute();\r\n      } catch (error) {\r\n        console.error('Failed to sync offline mutation:', error);\r\n      }\r\n    }\r\n  },\r\n};\r\n\r\nexport default queryClient;","// frontend/src/components/LuxuryNavigation/LuxuryNavigation.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useCart } from '../../contexts/CartContext';\r\nimport './LuxuryNavigation.css';\r\n\r\n\r\nconst LuxuryNavigation = () => {\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const { user, logout } = useAuth();\r\n  const { cartItems } = useCart();\r\n  const location = useLocation();\r\n\r\n  // Load Ionicons\r\n  useEffect(() => {\r\n    const script = document.createElement('script');\r\n    script.type = 'module';\r\n    script.src = 'https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js';\r\n    document.head.appendChild(script);\r\n\r\n    const nomoduleScript = document.createElement('script');\r\n    nomoduleScript.noModule = true;\r\n    nomoduleScript.src = 'https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js';\r\n    document.head.appendChild(nomoduleScript);\r\n\r\n    return () => {\r\n      document.head.removeChild(script);\r\n      document.head.removeChild(nomoduleScript);\r\n    };\r\n  }, []);\r\n\r\n  const getNavigationItems = () => {\r\n    const baseItems = [\r\n      { path: '/', icon: 'home-outline', text: 'Home' },\r\n      { path: '/products', icon: 'bag-outline', text: 'Shop' },\r\n      { path: '/about', icon: 'information-circle-outline', text: 'About' },\r\n      { path: '/contact', icon: 'mail-outline', text: 'Contact' }\r\n    ];\r\n\r\n    if (user) {\r\n      if (user.is_admin) {\r\n        return [\r\n          ...baseItems,\r\n          { path: '/admin/dashboard', icon: 'settings-outline', text: 'Admin' }\r\n        ];\r\n      } else {\r\n        return [\r\n          ...baseItems,\r\n          { path: '/cart', icon: 'basket-outline', text: 'Cart', badge: cartItems.length }\r\n        ];\r\n      }\r\n    }\r\n\r\n    return baseItems;\r\n  };\r\n\r\n  const navigationItems = getNavigationItems();\r\n\r\n  useEffect(() => {\r\n    const currentIndex = navigationItems.findIndex(item => \r\n      item.path === location.pathname || \r\n      (item.path !== '/' && location.pathname.startsWith(item.path))\r\n    );\r\n    if (currentIndex !== -1) {\r\n      setActiveIndex(currentIndex);\r\n    }\r\n  }, [location.pathname, navigationItems]);\r\n\r\n  const handleNavClick = (index) => {\r\n    setActiveIndex(index);\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    await logout();\r\n  };\r\n\r\n  // Dynamic wrapper class based on auth state\r\n  const wrapperClass = `luxury-navigation-wrapper ${user ? 'logged-in' : 'logged-out'}`;\r\n\r\n  return (\r\n    <div className={wrapperClass}>\r\n      {/* Logo Section */}\r\n      <div className=\"luxury-nav-logo\">\r\n        <Link to=\"/\">\r\n          <img\r\n            src=\"/images/logo.png\"\r\n            alt=\"Bespoke Tailoring\"\r\n            className=\"nav-logo-image\"\r\n            onError={(e) => {\r\n              e.target.style.display = 'none';\r\n              e.target.nextSibling.style.display = 'flex';\r\n            }}\r\n          />\r\n          <div className=\"nav-logo-text\" style={{ display: 'none' }}>\r\n            <span className=\"logo-letter\">V</span>\r\n            <span className=\"logo-letter\">S</span>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <div className=\"luxury-navigation\">\r\n        <ul>\r\n          {navigationItems.map((item, index) => (\r\n            <li key={item.path} className={`list ${activeIndex === index ? 'active' : ''}`}>\r\n              <Link \r\n                to={item.path}\r\n                onClick={() => handleNavClick(index)}\r\n              >\r\n                <span className=\"icon\">\r\n                  <ion-icon name={item.icon}></ion-icon>\r\n                  {item.badge && item.badge > 0 && (\r\n                    <span className=\"nav-badge\">{item.badge}</span>\r\n                  )}\r\n                </span>\r\n                <span className=\"text\">{item.text}</span>\r\n              </Link>\r\n            </li>\r\n          ))}\r\n          <div className=\"indicator\"></div>\r\n        </ul>\r\n      </div>\r\n\r\n      {/* User Actions - Only show when logged in */}\r\n      {user && (\r\n        <div className=\"luxury-nav-user\">\r\n          <div className=\"user-menu\">\r\n            <div className=\"user-avatar\">\r\n              <img \r\n                src={user.profile_image_url || `https://api.dicebear.com/7.x/avataaars/svg?seed=${user.username}`}\r\n                alt=\"User Avatar\"\r\n                onError={(e) => {\r\n                  e.target.style.display = 'none';\r\n                  e.target.nextSibling.style.display = 'flex';\r\n                }}\r\n              />\r\n              <div className=\"avatar-fallback\" style={{ display: 'none' }}>\r\n                {user.username?.charAt(0)?.toUpperCase() || 'U'}\r\n              </div>\r\n            </div>\r\n            <div className=\"user-dropdown\">\r\n              <Link to=\"/profile\" className=\"dropdown-item profile-edit\">\r\n                <ion-icon name=\"person-outline\"></ion-icon>\r\n                Profile\r\n              </Link>\r\n              <Link to=\"/profile\" className=\"dropdown-item profile-edit\">\r\n                <ion-icon name=\"create-outline\"></ion-icon>\r\n                Edit Profile\r\n              </Link>\r\n              {!user.is_admin && (\r\n                <Link to=\"/orders\" className=\"dropdown-item\">\r\n                  <ion-icon name=\"receipt-outline\"></ion-icon>\r\n                  Orders\r\n                </Link>\r\n              )}\r\n              <button onClick={handleLogout} className=\"dropdown-item logout\">\r\n                <ion-icon name=\"log-out-outline\"></ion-icon>\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Auth Buttons - Only show when logged out */}\r\n      {!user && (\r\n        <div className=\"luxury-nav-auth\">\r\n          <Link to=\"/login\" className=\"auth-btn login-btn\">\r\n            <ion-icon name=\"log-in-outline\"></ion-icon>\r\n          </Link>\r\n          <Link to=\"/register\" className=\"auth-btn register-btn\">\r\n            <ion-icon name=\"person-add-outline\"></ion-icon>\r\n          </Link>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LuxuryNavigation;","import React from 'react';\r\nimport '../../styles/components/footer.css';\r\n\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <div className=\"container\">\r\n        <div className=\"footer-content\">\r\n          <p className=\"footer-text\">\r\n            Made by{' '}\r\n            <a \r\n              href=\"https://github.com/pradian\" \r\n              target=\"_blank\" \r\n              rel=\"noopener noreferrer\"\r\n              className=\"footer-link\"\r\n            >\r\n              Petre Alexandru\r\n            </a>{' '}\r\n            and{' '}\r\n            <a \r\n              href=\"https://github.com/Dphpvp\" \r\n              target=\"_blank\" \r\n              rel=\"noopener noreferrer\"\r\n              className=\"footer-link\"\r\n            >\r\n              Dph\r\n            </a>\r\n          </p>\r\n          <p className=\"footer-copyright\">\r\n            © 2025 All rights reserved\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;","import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst PrivateRoute = ({ children }) => {\r\n  const { user, loading, initialized } = useAuth();\r\n  \r\n  // FIXED: Wait for authentication to initialize (fallback if initialized doesn't exist)\r\n  if (loading || (initialized !== undefined && !initialized)) {\r\n    return (\r\n      <div className=\"container\" style={{ textAlign: 'center', padding: '3rem' }}>\r\n        <p>Loading...</p>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  // FIXED: Only redirect if we're sure there's no user\r\n  if (!user) {\r\n    console.log('🔒 PrivateRoute: No user, redirecting to login');\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n  \r\n  console.log('✅ PrivateRoute: User authenticated, rendering children');\r\n  return children;\r\n};\r\n\r\nexport default PrivateRoute;","import React from 'react';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false, error: null };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    console.error('Error caught by boundary:', error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <div className=\"error-boundary\" style={{ \r\n          padding: '2rem', \r\n          textAlign: 'center',\r\n          background: '#f8f9fa',\r\n          borderRadius: '8px',\r\n          margin: '2rem'\r\n        }}>\r\n          <h2>Something went wrong</h2>\r\n          <details style={{ whiteSpace: 'pre-wrap', margin: '1rem 0' }}>\r\n            {this.state.error && this.state.error.toString()}\r\n          </details>\r\n          <button \r\n            onClick={() => window.location.reload()}\r\n            className=\"btn btn-primary\"\r\n          >\r\n            Reload Page\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;","import React, { useState, useEffect } from 'react';\r\nimport '../styles/components/BackToTop.css';\r\n\r\nconst BackToTop = () => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const toggleVisibility = () => {\r\n      setIsVisible(window.pageYOffset > 300);\r\n    };\r\n\r\n    window.addEventListener('scroll', toggleVisibility);\r\n    return () => window.removeEventListener('scroll', toggleVisibility);\r\n  }, []);\r\n\r\n  const scrollToTop = () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth'\r\n    });\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className={`back-to-top ${isVisible ? 'visible' : ''}`}\r\n      onClick={scrollToTop}\r\n      aria-label=\"Back to top\"\r\n    >\r\n      <span className=\"back-to-top-icon\">↑</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default BackToTop;","import React from 'react';\r\nimport './LoadingSpinner.css';\r\n\r\nconst LoadingSpinner = ({ \r\n  size = 'medium', \r\n  text = 'Loading...', \r\n  fullScreen = false,\r\n  minimal = false \r\n}) => {\r\n  const sizeClass = {\r\n    small: 'spinner-sm',\r\n    medium: 'spinner-md',\r\n    large: 'spinner-lg'\r\n  }[size];\r\n\r\n  if (minimal) {\r\n    return (\r\n      <div className=\"spinner-minimal\">\r\n        <div className={`spinner ${sizeClass}`} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (fullScreen) {\r\n    return (\r\n      <div className=\"spinner-fullscreen\">\r\n        <div className=\"spinner-container\">\r\n          <div className={`spinner ${sizeClass}`} />\r\n          <p className=\"spinner-text\">{text}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"spinner-container\">\r\n      <div className={`spinner ${sizeClass}`} />\r\n      <p className=\"spinner-text\">{text}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Skeleton components for better UX\r\nexport const PageSkeleton = () => (\r\n  <div className=\"page-skeleton\">\r\n    <div className=\"skeleton-header\" />\r\n    <div className=\"skeleton-content\">\r\n      <div className=\"skeleton-line\" />\r\n      <div className=\"skeleton-line\" />\r\n      <div className=\"skeleton-line short\" />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport const CardSkeleton = () => (\r\n  <div className=\"card-skeleton\">\r\n    <div className=\"skeleton-image\" />\r\n    <div className=\"skeleton-content\">\r\n      <div className=\"skeleton-line\" />\r\n      <div className=\"skeleton-line short\" />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport const TableSkeleton = ({ rows = 5 }) => (\r\n  <div className=\"table-skeleton\">\r\n    {Array.from({ length: rows }, (_, i) => (\r\n      <div key={i} className=\"skeleton-row\">\r\n        <div className=\"skeleton-cell\" />\r\n        <div className=\"skeleton-cell\" />\r\n        <div className=\"skeleton-cell\" />\r\n        <div className=\"skeleton-cell short\" />\r\n      </div>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default LoadingSpinner;","import React, { Suspense } from 'react';\r\nimport LoadingSpinner, { PageSkeleton } from './LoadingSpinner';\r\nimport ErrorBoundary from './ErrorBoundary';\r\n\r\n// Enhanced Suspense wrapper with error handling\r\nconst SuspenseBoundary = ({ \r\n  children, \r\n  fallback = null, \r\n  loadingText = \"Loading...\",\r\n  skeleton = false,\r\n  minimal = false \r\n}) => {\r\n  const defaultFallback = skeleton \r\n    ? <PageSkeleton />\r\n    : <LoadingSpinner \r\n        size=\"medium\" \r\n        text={loadingText} \r\n        minimal={minimal}\r\n      />;\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <Suspense fallback={fallback || defaultFallback}>\r\n        {children}\r\n      </Suspense>\r\n    </ErrorBoundary>\r\n  );\r\n};\r\n\r\n// Specialized suspense boundaries for different content types\r\nexport const PageSuspense = ({ children, title = \"page\" }) => (\r\n  <SuspenseBoundary \r\n    loadingText={`Loading ${title}...`}\r\n    skeleton={true}\r\n  >\r\n    {children}\r\n  </SuspenseBoundary>\r\n);\r\n\r\nexport const ComponentSuspense = ({ children, name = \"component\" }) => (\r\n  <SuspenseBoundary \r\n    loadingText={`Loading ${name}...`}\r\n    minimal={true}\r\n  >\r\n    {children}\r\n  </SuspenseBoundary>\r\n);\r\n\r\nexport const AdminSuspense = ({ children }) => (\r\n  <SuspenseBoundary \r\n    loadingText=\"Loading admin panel...\"\r\n    fallback={\r\n      <div className=\"admin-loading-container\">\r\n        <LoadingSpinner size=\"large\" text=\"Loading admin panel...\" />\r\n      </div>\r\n    }\r\n  >\r\n    {children}\r\n  </SuspenseBoundary>\r\n);\r\n\r\nexport const AuthSuspense = ({ children }) => (\r\n  <SuspenseBoundary \r\n    loadingText=\"Loading authentication...\"\r\n    fallback={\r\n      <div className=\"auth-loading-container\">\r\n        <LoadingSpinner size=\"medium\" text=\"Loading authentication...\" />\r\n      </div>\r\n    }\r\n  >\r\n    {children}\r\n  </SuspenseBoundary>\r\n);\r\n\r\nexport default SuspenseBoundary;","// frontend/src/App.js - Performance Optimized with Code Splitting\r\nimport React, { Suspense, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport { Elements } from '@stripe/react-stripe-js';\r\nimport { QueryClientProvider } from '@tanstack/react-query';\r\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\r\nimport { registerSW, setCallbacks } from './utils/serviceWorker';\r\nimport { queryClient, prefetchQueries } from './utils/queryClient';\r\n\r\n// UPDATED: Comprehensive CSS imports for luxury theme\r\nimport './styles/variables.css';           // CSS variables first\r\nimport './styles/main.css';               // Core styles\r\nimport './styles/enhanced-theme.css';     // Enhanced luxury theme styles\r\nimport './styles/components.css';         // Component styles\r\nimport './styles/styles.css'              // Main style\r\nimport './App.css';                       // App-specific styles\r\n\r\n// Core providers and components (not lazy loaded for better UX)\r\nimport { AuthProvider } from './contexts/AuthContext';\r\nimport { CartProvider } from './contexts/CartContext';\r\nimport { ToastProvider } from './components/toast';\r\nimport { ParallaxContainer } from './components/Parallax';\r\nimport LuxuryNavigation from './components/LuxuryNavigation/LuxuryNavigation';\r\nimport Footer from './components/Footer';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport ErrorBoundary from './components/ErrorBoundary';\r\nimport BackToTop from './components/BackToTop';\r\nimport LoadingSpinner, { PageSkeleton } from './components/LoadingSpinner';\r\nimport { PageSuspense, AdminSuspense, AuthSuspense } from './components/SuspenseBoundary';\r\n\r\n// Lazy loaded page components for code splitting\r\nconst Home = React.lazy(() => import('./pages/Home'));\r\nconst Products = React.lazy(() => import('./pages/Products'));\r\nconst Cart = React.lazy(() => import('./pages/Cart'));\r\nconst Checkout = React.lazy(() => import('./pages/Checkout'));\r\nconst AuthSlider = React.lazy(() => import('./components/AuthSlider'));\r\nconst ResetPassword = React.lazy(() => import('./pages/ResetPassword'));\r\nconst Orders = React.lazy(() => import('./pages/Orders'));\r\nconst EmailVerification = React.lazy(() => import('./pages/EmailVerification'));\r\nconst About = React.lazy(() => import('./pages/About'));\r\nconst Contact = React.lazy(() => import('./pages/Contact'));\r\n\r\n// Lazy loaded profile component\r\nconst Profile = React.lazy(() => import('./components/profile'));\r\n\r\n// Lazy loaded admin components (separate chunks)\r\nconst AdminDashboard = React.lazy(() => import('./components/admin/AdminDashboard'));\r\nconst AdminOrders = React.lazy(() => import('./components/admin/AdminOrders'));\r\nconst AdminUsers = React.lazy(() => import('./components/admin/AdminUsers'));\r\nconst AdminProducts = React.lazy(() => import('./components/admin/AdminProducts'));\r\nconst AdminRoute = React.lazy(() => import('./components/admin/AdminRoute'));\r\nconst AdminCategories = React.lazy(() => import('./components/admin/AdminCategories'));\r\n\r\n// Lazy load Stripe to improve initial bundle size\r\nconst stripePromise = loadStripe(\r\n  process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY\r\n);\r\n\r\n// Loading fallback components for different route types\r\nconst PageLoadingFallback = () => (\r\n  <div className=\"page-loading-container\">\r\n    <LoadingSpinner size=\"large\" text=\"Loading page...\" />\r\n  </div>\r\n);\r\n\r\nconst AdminLoadingFallback = () => (\r\n  <div className=\"admin-loading-container\">\r\n    <LoadingSpinner size=\"medium\" text=\"Loading admin panel...\" />\r\n  </div>\r\n);\r\n\r\nconst AuthLoadingFallback = () => (\r\n  <div className=\"auth-loading-container\">\r\n    <LoadingSpinner size=\"medium\" text=\"Loading authentication...\" />\r\n  </div>\r\n);\r\n\r\nconst App = () => {\r\n  // Initialize service worker\r\n  useEffect(() => {\r\n    const initServiceWorker = async () => {\r\n      const registered = await registerSW();\r\n      \r\n      if (registered) {\r\n        console.log('✅ Service Worker registered successfully');\r\n        \r\n        // Set up callbacks for SW events\r\n        setCallbacks({\r\n          onUpdateAvailable: () => {\r\n            console.log('🔄 App update available');\r\n            // You can show a toast notification here\r\n            if (window.confirm('A new version is available. Reload to update?')) {\r\n              window.location.reload();\r\n            }\r\n          },\r\n          onOffline: () => {\r\n            console.log('📶 App is offline');\r\n            // Show offline indicator\r\n          },\r\n          onOnline: () => {\r\n            console.log('🌐 App is back online');\r\n            // Hide offline indicator\r\n          }\r\n        });\r\n      }\r\n    };\r\n    \r\n    // Only register SW in production\r\n    if (process.env.NODE_ENV === 'production') {\r\n      initServiceWorker();\r\n    }\r\n    \r\n    // Prefetch important data\r\n    prefetchQueries.categories();\r\n  }, []);\r\n\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <Elements stripe={stripePromise}>\r\n        <ErrorBoundary>\r\n          <Router>\r\n            <AuthProvider>\r\n              <CartProvider>\r\n                <ToastProvider>\r\n                  <div className=\"app\">\r\n                  <LuxuryNavigation />\r\n                  <BackToTop />\r\n                  <ParallaxContainer>\r\n                    <main className=\"main\">\r\n                      <Routes>\r\n                        {/* Public pages with enhanced Suspense */}\r\n                        <Route path=\"/\" element={\r\n                          <PageSuspense title=\"home\">\r\n                            <Home />\r\n                          </PageSuspense>\r\n                        } />\r\n                        <Route path=\"/products\" element={\r\n                          <PageSuspense title=\"products\">\r\n                            <Products />\r\n                          </PageSuspense>\r\n                        } />\r\n                        <Route path=\"/about\" element={\r\n                          <PageSuspense title=\"about\">\r\n                            <About />\r\n                          </PageSuspense>\r\n                        } />\r\n                        <Route path=\"/contact\" element={\r\n                          <PageSuspense title=\"contact\">\r\n                            <Contact />\r\n                          </PageSuspense>\r\n                        } />\r\n                        \r\n                        {/* Authentication routes */}\r\n                        <Route path=\"/login\" element={\r\n                          <AuthSuspense>\r\n                            <AuthSlider />\r\n                          </AuthSuspense>\r\n                        } />\r\n                        <Route path=\"/register\" element={\r\n                          <AuthSuspense>\r\n                            <AuthSlider />\r\n                          </AuthSuspense>\r\n                        } />\r\n                        <Route path=\"/reset-password\" element={\r\n                          <AuthSuspense>\r\n                            <ResetPassword />\r\n                          </AuthSuspense>\r\n                        } />\r\n                        <Route path=\"/verify-email\" element={\r\n                          <AuthSuspense>\r\n                            <EmailVerification />\r\n                          </AuthSuspense>\r\n                        } />\r\n\r\n                        {/* Protected user routes */}\r\n                        <Route path=\"/cart\" element={\r\n                          <PrivateRoute>\r\n                            <PageSuspense title=\"cart\">\r\n                              <Cart />\r\n                            </PageSuspense>\r\n                          </PrivateRoute>\r\n                        } />\r\n                        <Route path=\"/checkout\" element={\r\n                          <PrivateRoute>\r\n                            <PageSuspense title=\"checkout\">\r\n                              <Checkout />\r\n                            </PageSuspense>\r\n                          </PrivateRoute>\r\n                        } />\r\n                        <Route path=\"/orders\" element={\r\n                          <PrivateRoute>\r\n                            <PageSuspense title=\"orders\">\r\n                              <Orders />\r\n                            </PageSuspense>\r\n                          </PrivateRoute>\r\n                        } />\r\n                        <Route path=\"/profile\" element={\r\n                          <PrivateRoute>\r\n                            <PageSuspense title=\"profile\">\r\n                              <Profile />\r\n                            </PageSuspense>\r\n                          </PrivateRoute>\r\n                        } />\r\n\r\n                        {/* Admin routes with enhanced loading */}\r\n                        <Route path=\"/admin/dashboard\" element={\r\n                          <AdminSuspense>\r\n                            <AdminRoute>\r\n                              <AdminDashboard />\r\n                            </AdminRoute>\r\n                          </AdminSuspense>\r\n                        } />\r\n                        <Route path=\"/admin/orders\" element={\r\n                          <AdminSuspense>\r\n                            <AdminRoute>\r\n                              <AdminOrders />\r\n                            </AdminRoute>\r\n                          </AdminSuspense>\r\n                        } />\r\n                        <Route path=\"/admin/users\" element={\r\n                          <AdminSuspense>\r\n                            <AdminRoute>\r\n                              <AdminUsers />\r\n                            </AdminRoute>\r\n                          </AdminSuspense>\r\n                        } />\r\n                        <Route path=\"/admin/products\" element={\r\n                          <AdminSuspense>\r\n                            <AdminRoute>\r\n                              <AdminProducts />\r\n                            </AdminRoute>\r\n                          </AdminSuspense>\r\n                        } />\r\n                        <Route path=\"/admin/categories-list\" element={\r\n                          <AdminSuspense>\r\n                            <AdminRoute>\r\n                              <AdminCategories />\r\n                            </AdminRoute>\r\n                          </AdminSuspense>\r\n                        } />\r\n                      </Routes>\r\n                    </main>\r\n                    <Footer />\r\n                  </ParallaxContainer>\r\n                  </div>\r\n                </ToastProvider>\r\n              </CartProvider>\r\n            </AuthProvider>\r\n          </Router>\r\n        </ErrorBoundary>\r\n      </Elements>\r\n      {/* React Query DevTools - only in development */}\r\n      {process.env.NODE_ENV === 'development' && (\r\n        <ReactQueryDevtools initialIsOpen={false} />\r\n      )}\r\n    </QueryClientProvider>\r\n  );\r\n};\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","// frontend/src/index.js - Optimized import structure for luxury theme\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\n\r\n// CSS imports in correct order for luxury theme\r\nimport './index.css';\r\nimport './styles/main.css';\r\nimport './styles/styles.css'\r\nimport './App.css';\r\n\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n\r\nreportWebVitals();","// frontend/src/components/Parallax/ParallaxContainer.js\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\n// Context for managing parallax state across components\r\nconst ParallaxContext = createContext();\r\n\r\nexport const useParallaxContext = () => {\r\n  const context = useContext(ParallaxContext);\r\n  if (!context) {\r\n    return {\r\n      isEnabled: true,\r\n      isSupported: true,\r\n      performance: 'high'\r\n    };\r\n  }\r\n  return context;\r\n};\r\n\r\nconst ParallaxContainer = ({ children, disabled = false }) => {\r\n  const [isEnabled, setIsEnabled] = useState(!disabled);\r\n  const [isSupported, setIsSupported] = useState(true);\r\n  const [performance, setPerformance] = useState('high');\r\n\r\n  useEffect(() => {\r\n    // Check device capabilities and user preferences\r\n    const checkSupport = () => {\r\n      const isMobile = window.innerWidth < 768;\r\n      const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;\r\n      const isSlowDevice = navigator.hardwareConcurrency && navigator.hardwareConcurrency < 4;\r\n      \r\n      // Disable parallax on mobile or if user prefers reduced motion\r\n      if (isMobile || prefersReducedMotion) {\r\n        setIsEnabled(false);\r\n        setIsSupported(false);\r\n      }\r\n      \r\n      // Adjust performance based on device capabilities\r\n      if (isSlowDevice) {\r\n        setPerformance('low');\r\n      }\r\n    };\r\n\r\n    checkSupport();\r\n\r\n    // Listen for resize and preference changes\r\n    const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\r\n    const handleChange = () => checkSupport();\r\n    \r\n    mediaQuery.addListener(handleChange);\r\n    window.addEventListener('resize', handleChange);\r\n\r\n    return () => {\r\n      mediaQuery.removeListener(handleChange);\r\n      window.removeEventListener('resize', handleChange);\r\n    };\r\n  }, []);\r\n\r\n  const contextValue = {\r\n    isEnabled: isEnabled && isSupported,\r\n    isSupported,\r\n    performance,\r\n    setEnabled: setIsEnabled\r\n  };\r\n\r\n  return (\r\n    <ParallaxContext.Provider value={contextValue}>\r\n      {children}\r\n    </ParallaxContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ParallaxContainer;","// frontend/src/components/Parallax/ParallaxSection.js - Enhanced Version\r\nimport React, { useState, useCallback, useRef, useEffect } from 'react';\r\nimport { useParallax, useIntersectionObserver } from '../../hooks/useParallax';\r\nimport { useParallaxContext } from './ParallaxContainer';\r\nimport './ParallaxSection.css';\r\n\r\nconst ParallaxSection = ({ \r\n  children, \r\n  backgroundImage, \r\n  speed = -0.5, \r\n  className = '', \r\n  overlay = false,\r\n  overlayOpacity = 0.3,\r\n  overlayColor = 'rgba(0, 0, 0, 0.5)',\r\n  height = '100vh',\r\n  loading = false,\r\n  fallbackColor = '#f5f5f5',\r\n  priority = false // For above-the-fold images\r\n}) => {\r\n  const { isEnabled, performance } = useParallaxContext();\r\n  const [imageLoaded, setImageLoaded] = useState(!backgroundImage);\r\n  const [imageError, setImageError] = useState(false);\r\n  const imageRef = useRef(null);\r\n  \r\n  // Adjust speed based on performance mode\r\n  const adjustedSpeed = performance === 'low' ? speed * 0.5 : speed;\r\n  \r\n  const { elementRef: parallaxRef, offset } = useParallax(\r\n    isEnabled ? adjustedSpeed : 0\r\n  );\r\n  \r\n  const { elementRef: intersectionRef, isIntersecting } = useIntersectionObserver({\r\n    threshold: 0.1,\r\n    rootMargin: '50px 0px'\r\n  });\r\n\r\n  // Preload background image\r\n  useEffect(() => {\r\n    if (!backgroundImage) return;\r\n\r\n    const img = new Image();\r\n    imageRef.current = img;\r\n    \r\n    img.onload = () => setImageLoaded(true);\r\n    img.onerror = () => {\r\n      setImageError(true);\r\n      setImageLoaded(true); // Still set to true to remove loading state\r\n    };\r\n    \r\n    // Add loading priority for above-the-fold images\r\n    if (priority) {\r\n      img.loading = 'eager';\r\n    }\r\n    \r\n    img.src = backgroundImage;\r\n\r\n    return () => {\r\n      if (imageRef.current) {\r\n        imageRef.current.onload = null;\r\n        imageRef.current.onerror = null;\r\n      }\r\n    };\r\n  }, [backgroundImage, priority]);\r\n\r\n  // Combine refs\r\n  const setRefs = useCallback((node) => {\r\n    parallaxRef.current = node;\r\n    intersectionRef.current = node;\r\n  }, [parallaxRef, intersectionRef]);\r\n\r\n  const sectionStyle = {\r\n    height,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n    backgroundColor: imageError ? fallbackColor : 'transparent'\r\n  };\r\n\r\n  const backgroundStyle = {\r\n    backgroundImage: (backgroundImage && imageLoaded && !imageError) \r\n      ? `url(${backgroundImage})` \r\n      : 'none',\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n    backgroundAttachment: isEnabled ? 'fixed' : 'scroll',\r\n    transform: isEnabled ? `translate3d(0, ${offset}px, 0)` : 'none',\r\n    willChange: (isIntersecting && isEnabled) ? 'transform' : 'auto',\r\n    position: 'absolute',\r\n    top: '-10%',\r\n    left: 0,\r\n    right: 0,\r\n    bottom: '-10%',\r\n    zIndex: 1,\r\n    backgroundColor: imageError ? fallbackColor : 'transparent'\r\n  };\r\n\r\n  const overlayStyle = overlay ? {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: overlayColor.includes('rgba') \r\n      ? overlayColor.replace(/[\\d.]+\\)$/g, `${overlayOpacity})`)\r\n      : `rgba(0, 0, 0, ${overlayOpacity})`,\r\n    zIndex: 2,\r\n  } : {};\r\n\r\n  const contentStyle = {\r\n    position: 'relative',\r\n    zIndex: 3,\r\n    height: '100%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: '100%'\r\n  };\r\n\r\n  const isLoading = loading || (backgroundImage && !imageLoaded);\r\n\r\n  return (\r\n    <section \r\n      ref={setRefs}\r\n      className={`parallax-section ${className} ${isLoading ? 'loading' : ''} ${isIntersecting ? 'in-viewport' : ''}`}\r\n      style={sectionStyle}\r\n      role=\"banner\"\r\n      aria-label={backgroundImage ? 'Background image section' : 'Content section'}\r\n    >\r\n      {/* Background Layer */}\r\n      {(backgroundImage && !imageError) && (\r\n        <div \r\n          className=\"parallax-background\"\r\n          style={backgroundStyle}\r\n          aria-hidden=\"true\"\r\n        />\r\n      )}\r\n      \r\n      {/* Loading Indicator */}\r\n      {isLoading && (\r\n        <div \r\n          className=\"parallax-loading\"\r\n          style={{\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            zIndex: 1,\r\n            background: `linear-gradient(45deg, ${fallbackColor} 25%, #e0e0e0 25%, #e0e0e0 50%, ${fallbackColor} 50%, ${fallbackColor} 75%, #e0e0e0 75%, #e0e0e0)`,\r\n            backgroundSize: '20px 20px',\r\n            animation: 'loading-shimmer 1s ease-in-out infinite'\r\n          }}\r\n          aria-label=\"Loading background image\"\r\n        />\r\n      )}\r\n      \r\n      {/* Overlay Layer */}\r\n      {overlay && <div className=\"parallax-overlay\" style={overlayStyle} aria-hidden=\"true\" />}\r\n      \r\n      {/* Content Layer */}\r\n      <div className=\"parallax-content\" style={contentStyle}>\r\n        {children}\r\n      </div>\r\n      \r\n      {/* Error State */}\r\n      {imageError && backgroundImage && (\r\n        <div \r\n          style={{\r\n            position: 'absolute',\r\n            top: '50%',\r\n            left: '50%',\r\n            transform: 'translate(-50%, -50%)',\r\n            color: '#666',\r\n            fontSize: '0.9rem',\r\n            zIndex: 4,\r\n            textAlign: 'center',\r\n            opacity: 0.7\r\n          }}\r\n          aria-live=\"polite\"\r\n        >\r\n          Background image failed to load\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ParallaxSection;","import React from 'react';\r\nimport { useParallax } from '../../hooks/useParallax';\r\n\r\nconst ParallaxElement = ({ \r\n  children, \r\n  speed = -0.3, \r\n  className = '',\r\n  disabled = false \r\n}) => {\r\n  const { elementRef, offset } = useParallax(speed, disabled);\r\n\r\n  const style = {\r\n    transform: `translate3d(0, ${offset}px, 0)`,\r\n    willChange: 'transform',\r\n  };\r\n\r\n  return (\r\n    <div \r\n      ref={elementRef}\r\n      className={`parallax-element ${className}`}\r\n      style={style}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ParallaxElement;","// frontend/src/components/Parallax/ParallaxText.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParallax, useScrollAnimation } from '../../hooks/useParallax';\r\nimport { useParallaxContext } from './ParallaxContainer';\r\n\r\nconst ParallaxText = ({\r\n  children,\r\n  speed = -0.2,\r\n  className = '',\r\n  style = {},\r\n  animationType = 'parallax', // 'parallax', 'fadeIn', 'slideUp', 'slideLeft', 'slideRight'\r\n  delay = 0,\r\n  duration = 800,\r\n  stagger = 100, // For word/character animations\r\n  splitBy = 'words', // 'words', 'characters', 'lines'\r\n  ...props\r\n}) => {\r\n  const { isEnabled } = useParallaxContext();\r\n  const [textElements, setTextElements] = useState([]);\r\n  \r\n  const { elementRef: parallaxRef, offset } = useParallax(\r\n    isEnabled && animationType === 'parallax' ? speed : 0\r\n  );\r\n  \r\n  const { elementRef: animationRef, isVisible, hasAnimated } = useScrollAnimation(0.2);\r\n\r\n  // Split text into animatable elements\r\n  useEffect(() => {\r\n    if (typeof children !== 'string' || animationType === 'parallax') return;\r\n\r\n    let elements = [];\r\n    \r\n    switch (splitBy) {\r\n      case 'characters':\r\n        elements = children.split('').map((char, index) => ({\r\n          content: char === ' ' ? '\\u00A0' : char, // Non-breaking space\r\n          index,\r\n          delay: delay + (index * stagger)\r\n        }));\r\n        break;\r\n        \r\n      case 'words':\r\n        elements = children.split(' ').map((word, index) => ({\r\n          content: word,\r\n          index,\r\n          delay: delay + (index * stagger)\r\n        }));\r\n        break;\r\n        \r\n      case 'lines':\r\n        elements = children.split('\\n').map((line, index) => ({\r\n          content: line,\r\n          index,\r\n          delay: delay + (index * stagger)\r\n        }));\r\n        break;\r\n        \r\n      default:\r\n        elements = [{ content: children, index: 0, delay }];\r\n    }\r\n    \r\n    setTextElements(elements);\r\n  }, [children, splitBy, delay, stagger, animationType]);\r\n\r\n  // Combine refs\r\n  const setRefs = (node) => {\r\n    parallaxRef.current = node;\r\n    animationRef.current = node;\r\n  };\r\n\r\n  // Base styles\r\n  const baseStyle = {\r\n    ...style,\r\n    display: 'inline-block',\r\n  };\r\n\r\n  // Parallax animation\r\n  if (animationType === 'parallax' && isEnabled) {\r\n    return (\r\n      <span\r\n        ref={setRefs}\r\n        className={`parallax-text ${className}`}\r\n        style={{\r\n          ...baseStyle,\r\n          transform: `translate3d(0, ${offset}px, 0)`,\r\n          willChange: 'transform'\r\n        }}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </span>\r\n    );\r\n  }\r\n\r\n  // Scroll-triggered animations\r\n  const getAnimationStyle = (element, index) => {\r\n    const isAnimated = hasAnimated || isVisible;\r\n    const elementDelay = element.delay;\r\n    \r\n    const baseAnimationStyle = {\r\n      display: splitBy === 'characters' ? 'inline' : 'inline-block',\r\n      transition: `all ${duration}ms cubic-bezier(0.23, 1, 0.32, 1)`,\r\n      transitionDelay: `${elementDelay}ms`,\r\n    };\r\n\r\n    if (!isAnimated) {\r\n      switch (animationType) {\r\n        case 'fadeIn':\r\n          return {\r\n            ...baseAnimationStyle,\r\n            opacity: 0,\r\n            transform: 'translateY(20px)',\r\n          };\r\n        case 'slideUp':\r\n          return {\r\n            ...baseAnimationStyle,\r\n            opacity: 0,\r\n            transform: 'translateY(50px)',\r\n          };\r\n        case 'slideLeft':\r\n          return {\r\n            ...baseAnimationStyle,\r\n            opacity: 0,\r\n            transform: 'translateX(-50px)',\r\n          };\r\n        case 'slideRight':\r\n          return {\r\n            ...baseAnimationStyle,\r\n            opacity: 0,\r\n            transform: 'translateX(50px)',\r\n          };\r\n        default:\r\n          return baseAnimationStyle;\r\n      }\r\n    }\r\n\r\n    // Animated state\r\n    return {\r\n      ...baseAnimationStyle,\r\n      opacity: 1,\r\n      transform: 'translate3d(0, 0, 0)',\r\n    };\r\n  };\r\n\r\n  // Render split text with animations\r\n  if (textElements.length > 0 && animationType !== 'parallax') {\r\n    return (\r\n      <span\r\n        ref={setRefs}\r\n        className={`parallax-text parallax-text-${animationType} ${className}`}\r\n        style={baseStyle}\r\n        {...props}\r\n      >\r\n        {textElements.map((element, index) => (\r\n          <span\r\n            key={index}\r\n            style={getAnimationStyle(element, index)}\r\n            className={`text-element text-element-${index}`}\r\n          >\r\n            {element.content}\r\n            {splitBy === 'words' && index < textElements.length - 1 && ' '}\r\n          </span>\r\n        ))}\r\n      </span>\r\n    );\r\n  }\r\n\r\n  // Fallback: simple text without animations\r\n  return (\r\n    <span\r\n      ref={setRefs}\r\n      className={`parallax-text ${className}`}\r\n      style={baseStyle}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default ParallaxText;","/**\r\n * Platform detection utilities for Capacitor\r\n */\r\n\r\nclass PlatformDetectionManager {\r\n  constructor() {\r\n    try {\r\n      this.platform = this.detectPlatform();\r\n      this.isMobile = this.detectMobilePlatform();\r\n      \r\n      console.log('🔍 Platform detection:', {\r\n        platform: this.platform,\r\n        isMobile: this.isMobile,\r\n        capacitor: !!window.Capacitor,\r\n        isNativePlatform: window.Capacitor?.isNativePlatform?.() || false,\r\n        userAgent: navigator.userAgent\r\n      });\r\n    } catch (error) {\r\n      console.error('❌ Platform detection failed:', error);\r\n      // Fallback values\r\n      this.platform = 'web';\r\n      this.isMobile = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Detect the current platform\r\n   */\r\n  detectPlatform() {\r\n    try {\r\n      // Primary: Use Capacitor API\r\n      if (window.Capacitor && typeof window.Capacitor.isNativePlatform === 'function') {\r\n        if (window.Capacitor.isNativePlatform()) {\r\n          return window.Capacitor.getPlatform();\r\n        }\r\n      }\r\n\r\n      // Fallback: Parse user agent for Android\r\n      const userAgent = navigator.userAgent;\r\n      if (/Android/i.test(userAgent)) {\r\n        // Check if it's likely a WebView (Capacitor app)\r\n        const isWebView = /Chrome.*Version/i.test(userAgent) ||\r\n                          /wv\\)/i.test(userAgent) ||\r\n                          window._capacitor ||\r\n                          window.Capacitor;\r\n        \r\n        if (isWebView) {\r\n          console.log('🤖 Android platform detected via user agent fallback');\r\n          return 'android';\r\n        }\r\n      }\r\n\r\n      // Check for iOS\r\n      if (/iPhone|iPad|iPod/i.test(userAgent)) {\r\n        const isWebView = /CriOS|FxiOS|Version.*Mobile.*Safari/i.test(userAgent) ||\r\n                          window._capacitor ||\r\n                          window.Capacitor;\r\n        \r\n        if (isWebView) {\r\n          console.log('🍎 iOS platform detected via user agent fallback');\r\n          return 'ios';\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.warn('Capacitor platform detection failed:', error);\r\n    }\r\n    return 'web';\r\n  }\r\n\r\n  /**\r\n   * Check if running on mobile platform (Capacitor)\r\n   */\r\n  detectMobilePlatform() {\r\n    try {\r\n      // Primary: Check Capacitor\r\n      if (window.Capacitor && \r\n          typeof window.Capacitor.isNativePlatform === 'function' && \r\n          window.Capacitor.isNativePlatform()) {\r\n        return true;\r\n      }\r\n\r\n      // Fallback 1: Check for Android WebView patterns\r\n      const userAgent = navigator.userAgent;\r\n      const isAndroidWebView = /Android.*Chrome.*Version/i.test(userAgent) ||\r\n                               /Android.*wv\\)/i.test(userAgent) ||\r\n                               /Version.*Chrome.*Mobile.*Safari/i.test(userAgent);\r\n      \r\n      // Fallback 2: Check for Capacitor app markers\r\n      const hasCapacitorMarkers = window._capacitor ||\r\n                                  window.Capacitor ||\r\n                                  document.querySelector('meta[name=\"capacitor-config\"]') ||\r\n                                  /Capacitor/i.test(userAgent);\r\n\r\n      // Fallback 3: Check for mobile platform indicators\r\n      const isMobileUA = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent);\r\n      const hasTouchPoints = navigator.maxTouchPoints > 0;\r\n      const hasTouch = 'ontouchstart' in window;\r\n\r\n      // Android-specific detection\r\n      if (isAndroidWebView || hasCapacitorMarkers || (isMobileUA && /Android/i.test(userAgent))) {\r\n        console.log('🤖 Android platform detected via fallback detection');\r\n        return true;\r\n      }\r\n\r\n      // General mobile detection\r\n      if (isMobileUA && (hasTouchPoints || hasTouch)) {\r\n        console.log('📱 Mobile platform detected via fallback detection');\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    } catch (error) {\r\n      console.warn('Mobile platform detection failed:', error);\r\n      // Last resort: Assume mobile if Android is in user agent\r\n      return /Android/i.test(navigator.userAgent);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get platform headers for API requests\r\n   */\r\n  getPlatformHeaders() {\r\n    const headers = {};\r\n    \r\n    if (this.isMobile) {\r\n      headers['X-Capacitor-Platform'] = this.platform;\r\n      headers['X-Mobile-App'] = 'true';\r\n      \r\n      // Add Android-specific headers for better WebView detection\r\n      if (this.platform === 'android') {\r\n        headers['X-Android-WebView'] = 'true';\r\n        headers['X-Capacitor-Android'] = 'true';\r\n        \r\n        // Include WebView version if available\r\n        const webViewMatch = navigator.userAgent.match(/Chrome\\/(\\d+\\.\\d+\\.\\d+\\.\\d+)/);\r\n        if (webViewMatch) {\r\n          headers['X-WebView-Version'] = webViewMatch[1];\r\n        }\r\n      }\r\n      \r\n      // Add device info for better debugging\r\n      headers['X-Device-Info'] = JSON.stringify({\r\n        platform: this.platform,\r\n        userAgent: navigator.userAgent.substring(0, 100), // Truncate for header size\r\n        screen: `${window.screen.width}x${window.screen.height}`,\r\n        timestamp: Date.now()\r\n      });\r\n    }\r\n    \r\n    return headers;\r\n  }\r\n\r\n  /**\r\n   * Enhanced fetch wrapper that includes platform headers\r\n   */\r\n  async fetch(url, options = {}) {\r\n    const enhancedOptions = {\r\n      ...options,\r\n      headers: {\r\n        ...options.headers,\r\n        ...this.getPlatformHeaders(),\r\n        // Ensure proper content type for Android WebView\r\n        'Content-Type': options.headers?.['Content-Type'] || 'application/json'\r\n      }\r\n    };\r\n\r\n    // Android WebView timeout and retry logic\r\n    if (this.platform === 'android') {\r\n      return this._fetchWithAndroidFallback(url, enhancedOptions);\r\n    }\r\n\r\n    return fetch(url, enhancedOptions);\r\n  }\r\n\r\n  /**\r\n   * Android-specific fetch with fallback handling\r\n   */\r\n  async _fetchWithAndroidFallback(url, options, maxRetries = 2) {\r\n    for (let attempt = 0; attempt <= maxRetries; attempt++) {\r\n      try {\r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => controller.abort(), 10000); // 10s timeout\r\n        \r\n        const response = await fetch(url, {\r\n          ...options,\r\n          signal: controller.signal\r\n        });\r\n        \r\n        clearTimeout(timeoutId);\r\n        return response;\r\n      } catch (error) {\r\n        console.warn(`🤖 Android fetch attempt ${attempt + 1} failed:`, error.message);\r\n        \r\n        if (attempt === maxRetries) {\r\n          throw error;\r\n        }\r\n        \r\n        // Wait before retry\r\n        await new Promise(resolve => setTimeout(resolve, 500 * (attempt + 1)));\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get device information\r\n   */\r\n  getDeviceInfo() {\r\n    const baseInfo = {\r\n      platform: this.platform,\r\n      isMobile: this.isMobile,\r\n      isWeb: !this.isMobile,\r\n      userAgent: navigator.userAgent,\r\n      capacitorVersion: window.Capacitor?.version || null\r\n    };\r\n\r\n    // Add Android-specific info\r\n    if (this.platform === 'android') {\r\n      const androidMatch = navigator.userAgent.match(/Android\\s([\\d\\.]+)/);\r\n      const chromeMatch = navigator.userAgent.match(/Chrome\\/(\\d+\\.\\d+\\.\\d+\\.\\d+)/);\r\n      \r\n      baseInfo.androidVersion = androidMatch ? androidMatch[1] : 'unknown';\r\n      baseInfo.webViewVersion = chromeMatch ? chromeMatch[1] : 'unknown';\r\n      baseInfo.isWebView = /wv\\)|Version.*Chrome/i.test(navigator.userAgent);\r\n    }\r\n\r\n    return baseInfo;\r\n  }\r\n\r\n  /**\r\n   * Check if device has specific capability\r\n   */\r\n  hasCapability(capability) {\r\n    switch (capability) {\r\n      case 'camera':\r\n        return this.isMobile || (navigator.mediaDevices && navigator.mediaDevices.getUserMedia);\r\n      case 'filesystem':\r\n        return this.isMobile || ('webkitRequestFileSystem' in window);\r\n      case 'push_notifications':\r\n        return this.isMobile || ('Notification' in window);\r\n      case 'geolocation':\r\n        return 'geolocation' in navigator;\r\n      case 'device_info':\r\n        return this.isMobile;\r\n      default:\r\n        return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get platform-specific configuration\r\n   */\r\n  getPlatformConfig() {\r\n    const baseConfig = {\r\n      platform: this.platform,\r\n      isMobile: this.isMobile\r\n    };\r\n\r\n    if (this.isMobile) {\r\n      return {\r\n        ...baseConfig,\r\n        storage: 'native',\r\n        biometrics: true,\r\n        haptics: true,\r\n        statusBar: true,\r\n        splashScreen: true\r\n      };\r\n    } else {\r\n      return {\r\n        ...baseConfig,\r\n        storage: 'localStorage',\r\n        biometrics: false,\r\n        haptics: false,\r\n        statusBar: false,\r\n        splashScreen: false\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set up platform-specific event listeners\r\n   */\r\n  setupPlatformListeners() {\r\n    if (this.isMobile) {\r\n      // Listen for app state changes\r\n      document.addEventListener('resume', this.onAppResume.bind(this));\r\n      document.addEventListener('pause', this.onAppPause.bind(this));\r\n      \r\n      // Listen for back button on Android\r\n      if (this.platform === 'android') {\r\n        document.addEventListener('backbutton', this.onBackButton.bind(this));\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle app resume event\r\n   */\r\n  onAppResume() {\r\n    console.log('App resumed');\r\n    // Refresh tokens, check for updates, etc.\r\n  }\r\n\r\n  /**\r\n   * Handle app pause event\r\n   */\r\n  onAppPause() {\r\n    console.log('App paused');\r\n    // Save state, pause background tasks, etc.\r\n  }\r\n\r\n  /**\r\n   * Handle Android back button\r\n   */\r\n  onBackButton(event) {\r\n    console.log('Back button pressed');\r\n    // Custom back button handling\r\n    event.preventDefault();\r\n    \r\n    // Check if we're on the home page\r\n    if (window.location.pathname === '/' || window.location.pathname === '/home') {\r\n      // Exit app or show confirmation\r\n      if (window.Capacitor && window.Capacitor.Plugins.App) {\r\n        window.Capacitor.Plugins.App.exitApp();\r\n      }\r\n    } else {\r\n      // Navigate back in history\r\n      window.history.back();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show platform-appropriate loading indicator\r\n   */\r\n  showLoading(message = 'Loading...') {\r\n    if (this.isMobile && window.Capacitor?.Plugins?.LoadingController) {\r\n      return window.Capacitor.Plugins.LoadingController.create({\r\n        message: message\r\n      });\r\n    } else {\r\n      // Web fallback - you can implement your own loading component\r\n      console.log('Loading:', message);\r\n      return Promise.resolve({\r\n        present: () => {},\r\n        dismiss: () => {}\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show platform-appropriate toast message\r\n   */\r\n  showToast(message, duration = 3000) {\r\n    if (this.isMobile && window.Capacitor?.Plugins?.Toast) {\r\n      return window.Capacitor.Plugins.Toast.show({\r\n        text: message,\r\n        duration: duration\r\n      });\r\n    } else {\r\n      // Web fallback - you can implement your own toast component\r\n      console.log('Toast:', message);\r\n      return Promise.resolve();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get safe area insets for mobile apps\r\n   */\r\n  getSafeAreaInsets() {\r\n    if (this.isMobile && window.Capacitor?.Plugins?.StatusBar) {\r\n      return window.Capacitor.Plugins.StatusBar.getInfo();\r\n    }\r\n    \r\n    return Promise.resolve({\r\n      statusBarHeight: 0,\r\n      safeAreaTop: 0,\r\n      safeAreaBottom: 0\r\n    });\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nconst platformDetection = new PlatformDetectionManager();\r\n\r\nexport default platformDetection;","import React, { useState, useEffect } from 'react';\r\nimport '../../styles/components/toast.css';\r\n\r\nexport const useToast = () => {\r\n  const [toasts, setToasts] = useState([]);\r\n\r\n  const showToast = (message, type = 'success') => {\r\n    const id = Date.now();\r\n    const toast = { id, message, type };\r\n    setToasts(prev => [...prev, toast]);\r\n\r\n    // Auto remove after 3 seconds\r\n    setTimeout(() => {\r\n      setToasts(prev => prev.filter(t => t.id !== id));\r\n    }, 3000);\r\n  };\r\n\r\n  const removeToast = (id) => {\r\n    setToasts(prev => prev.filter(t => t.id !== id));\r\n  };\r\n\r\n  return { toasts, showToast, removeToast };\r\n};\r\n\r\nexport const ToastContainer = ({ toasts, removeToast }) => {\r\n  return (\r\n    <div className=\"toast-container\">\r\n      {toasts.map(toast => (\r\n        <div key={toast.id} className={`toast toast-${toast.type}`}>\r\n          <span>{toast.message}</span>\r\n          <button onClick={() => removeToast(toast.id)}>×</button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};","import React, { createContext, useContext } from 'react';\r\nimport { useToast, ToastContainer } from './Toast';\r\n\r\nconst ToastContext = createContext();\r\n\r\nexport const useToastContext = () => useContext(ToastContext);\r\n\r\nexport const ToastProvider = ({ children }) => {\r\n  const { toasts, showToast, removeToast } = useToast();\r\n  \r\n  return (\r\n    <ToastContext.Provider value={{ showToast }}>\r\n      {children}\r\n      <ToastContainer toasts={toasts} removeToast={removeToast} />\r\n    </ToastContext.Provider>\r\n  );\r\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + (chunkId === 76 ? \"common\" : chunkId) + \".\" + {\"54\":\"2300e056\",\"63\":\"31b2cec8\",\"76\":\"5a09f69b\",\"152\":\"720afb9e\",\"236\":\"6a8e7a4b\",\"250\":\"72a74011\",\"471\":\"25898996\",\"533\":\"012f5bed\",\"615\":\"5b9fc574\",\"623\":\"eebc06ce\",\"640\":\"f702f222\",\"665\":\"139004ed\",\"686\":\"6255e40d\",\"723\":\"e378b272\",\"736\":\"2f77e8f0\",\"818\":\"ef3061ce\",\"841\":\"06bace8f\",\"850\":\"3cbe9565\"}[chunkId] + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/css/\" + \"common\" + \".\" + \"aa0ff8d8\" + \".chunk.css\";\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = (chunkId, fullhref, oldTag, resolve, reject) => {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tif (__webpack_require__.nc) {\n\t\tlinkTag.nonce = __webpack_require__.nc;\n\t}\n\tvar onLinkComplete = (event) => {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = (href, fullhref) => {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = (chunkId) => {\n\treturn new Promise((resolve, reject) => {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.miniCss = (chunkId, promises) => {\n\tvar cssChunks = {\"76\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(() => {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, (e) => {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr\n\n// no prefetching\n\n// no preloaded","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkecommerce_frontend\"] = self[\"webpackChunkecommerce_frontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [644,988,96,869], () => (__webpack_require__(5445)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","API_BASE","process","REACT_APP_API_BASE_URL","CartContext","createContext","CartProvider","_ref","children","cartItems","setCartItems","useState","loading","setLoading","user","makeAuthenticatedRequest","useAuth","fetchCart","useCallback","async","data","concat","Array","isArray","error","message","clearCart","getCartTotal","reduce","total","item","_item$product","product","price","quantity","getCartItemsCount","useEffect","contextValue","addToCart","productId","arguments","length","undefined","method","body","JSON","stringify","product_id","parseInt","removeFromCart","itemId","updateCartItemQuantity","newQuantity","isAuthenticated","_jsx","Provider","value","useCart","context","useContext","Error","throttle","func","limit","inThrottle","args","this","apply","setTimeout","useParallax","speed","disabled","elementRef","useRef","offset","setOffset","isInViewport","setIsInViewport","animationFrameRef","calculateOffset","scrollY","elementTop","elementHeight","windowHeight","elementBottom","inViewport","parallaxOffset","actuallyInViewport","Math","round","updateTransform","rafId","_len","_key","requestAnimationFrame","rafThrottle","element","current","rect","getBoundingClientRect","window","pageYOffset","top","height","innerHeight","newOffset","matchMedia","matches","innerWidth","handleScroll","addEventListener","passive","handleResize","removeEventListener","cancelAnimationFrame","useIntersectionObserver","options","isIntersecting","setIsIntersecting","entry","setEntry","observerRef","defaultOptions","_objectSpread","threshold","rootMargin","IntersectionObserver","entries","observerEntry","observe","disconnect","useScrollAnimation","hasAnimated","setHasAnimated","isVisible","csrfManager","constructor","token","tokenExpiry","getToken","Date","now","response","fetch","credentials","headers","platformDetection","getPlatformHeaders","ok","json","csrf_token","makeSecureRequest","url","_options$method","includes","toUpperCase","timestamp","floor","signature","requestSigner","signRequest","URL","pathname","toString","clearToken","secret","REACT_APP_SESSION_SECRET","path","encoder","TextEncoder","key","crypto","subtle","importKey","encode","name","hash","sign","from","Uint8Array","map","b","padStart","join","verifyTimestamp","currentTime","abs","secureFetch","_options$method2","sanitizeInput","text","input","maxLength","sanitized","replace","substring","trim","email","toLowerCase","phone","html","parsed","protocol","_unused","validateInput","test","password","valid","username","_unused2","number","min","max","Infinity","num","parseFloat","isNaN","AuthContext","AuthProvider","setUser","requires2FA","setRequires2FA","tempToken","setTempToken","initialized","setInitialized","timeoutRef","TIMEOUT_DURATION","logout","showToast","clearTimeout","resetTimeout","handleActivity","events","forEach","event","document","fetchUser","cache","userData","status","login","complete2FA","sessionCheck","retryResponse","errorData","catch","detail","checkAuthStatus","refetchUser","register","success","handle2FARequired","isLocalhost","Boolean","location","hostname","match","serviceWorkerManager","registration","updateCheckInterval","onUpdateAvailable","onOffline","onOnline","navigator","serviceWorker","scope","setupEventListeners","startUpdateChecking","installing","handleInstalling","newWorker","reload","handleMessage","syncOfflineData","worker","state","controller","type","payload","setInterval","checkForUpdates","update","updateServiceWorker","waiting","postMessage","unregister","result","clearInterval","cacheUrls","urls","active","clearCache","cacheName","ServiceWorkerRegistration","prototype","sync","getCacheStorageUsage","storage","estimate","used","usage","available","quota","percentage","setCallbacks","isOffline","onLine","getRegistrationInfo","queryClient","QueryClient","queries","staleTime","gcTime","retry","failureCount","_error$response5","_error$response6","_error$response7","retryDelay","attemptIndex","refetchOnWindowFocus","refetchOnReconnect","refetchInterval","onError","_error$response","_error$response2","_error$message","href","mutations","_error$response3","_error$response4","queryKeys","userProfile","products","productsList","filters","productDetail","id","productCategories","cart","orders","ordersList","orderDetail","admin","adminUsers","adminOrders","adminProducts","adminStats","prefetchQueries","categories","prefetchQuery","queryKey","queryFn","then","res","LuxuryNavigation","_user$username","_user$username$charAt","activeIndex","setActiveIndex","useLocation","script","createElement","src","head","appendChild","nomoduleScript","noModule","removeChild","navigationItems","getNavigationItems","baseItems","icon","is_admin","badge","currentIndex","findIndex","startsWith","wrapperClass","_jsxs","className","Link","to","alt","e","target","style","display","nextSibling","index","onClick","handleNavClick","profile_image_url","charAt","Footer","rel","textAlign","padding","Navigate","ErrorBoundary","React","props","super","hasError","getDerivedStateFromError","componentDidCatch","errorInfo","render","background","borderRadius","margin","whiteSpace","BackToTop","setIsVisible","toggleVisibility","scrollToTop","scrollTo","behavior","PageSkeleton","size","fullScreen","minimal","sizeClass","small","medium","large","SuspenseBoundary","fallback","loadingText","skeleton","defaultFallback","LoadingSpinner","Suspense","PageSuspense","_ref2","title","AdminSuspense","_ref4","AuthSuspense","_ref5","Home","Products","Cart","Checkout","AuthSlider","ResetPassword","Orders","EmailVerification","About","Contact","Profile","AdminDashboard","AdminOrders","AdminUsers","AdminProducts","AdminRoute","AdminCategories","stripePromise","loadStripe","REACT_APP_STRIPE_PUBLISHABLE_KEY","App","callbacks","confirm","initServiceWorker","QueryClientProvider","client","Elements","stripe","Router","ToastProvider","ParallaxContainer","Routes","Route","PrivateRoute","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById","reportWebVitals","ParallaxContext","useParallaxContext","isEnabled","isSupported","performance","setIsEnabled","setIsSupported","setPerformance","checkSupport","isMobile","prefersReducedMotion","isSlowDevice","hardwareConcurrency","mediaQuery","handleChange","addListener","removeListener","setEnabled","backgroundImage","overlay","overlayOpacity","overlayColor","fallbackColor","priority","imageLoaded","setImageLoaded","imageError","setImageError","imageRef","adjustedSpeed","parallaxRef","intersectionRef","img","Image","onload","onerror","setRefs","node","sectionStyle","overflow","position","backgroundColor","backgroundStyle","backgroundSize","backgroundPosition","backgroundAttachment","transform","willChange","left","right","bottom","zIndex","overlayStyle","isLoading","ref","role","animation","alignItems","justifyContent","width","color","fontSize","opacity","animationType","delay","duration","stagger","splitBy","_objectWithoutProperties","_excluded","textElements","setTextElements","animationRef","elements","split","char","content","word","line","baseStyle","getAnimationStyle","isAnimated","elementDelay","baseAnimationStyle","transition","transitionDelay","platform","detectPlatform","detectMobilePlatform","Capacitor","isNativePlatform","getPlatform","userAgent","_capacitor","isAndroidWebView","hasCapacitorMarkers","querySelector","isMobileUA","hasTouchPoints","maxTouchPoints","hasTouch","webViewMatch","screen","_options$headers","enhancedOptions","_fetchWithAndroidFallback","maxRetries","attempt","AbortController","timeoutId","abort","signal","Promise","resolve","getDeviceInfo","_window$Capacitor2","baseInfo","isWeb","capacitorVersion","version","androidMatch","chromeMatch","androidVersion","webViewVersion","isWebView","hasCapability","capability","mediaDevices","getUserMedia","getPlatformConfig","baseConfig","biometrics","haptics","statusBar","splashScreen","setupPlatformListeners","onAppResume","bind","onAppPause","onBackButton","preventDefault","Plugins","exitApp","history","back","showLoading","_window$Capacitor3","_window$Capacitor3$Pl","LoadingController","create","present","dismiss","_window$Capacitor4","_window$Capacitor4$Pl","Toast","show","getSafeAreaInsets","_window$Capacitor5","_window$Capacitor5$Pl","StatusBar","getInfo","statusBarHeight","safeAreaTop","safeAreaBottom","ToastContainer","toasts","removeToast","toast","ToastContext","useToastContext","useToast","setToasts","prev","filter","t","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","O","chunkIds","fn","notFulfilled","i","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","getPrototypeOf","obj","mode","ns","def","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","get","f","chunkId","all","promises","u","miniCssF","prop","hasOwnProperty","l","done","push","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","setAttribute","onScriptComplete","doneFns","parentNode","Symbol","toStringTag","p","loadStylesheet","reject","fullhref","existingLinkTags","dataHref","tag","existingStyleTags","findStylesheet","oldTag","linkTag","nonce","errorType","realHref","err","code","request","insertBefore","createStylesheet","installedCssChunks","miniCss","installedChunks","installedChunkData","promise","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}